"use strict";(self.webpackChunklcm_test_page=self.webpackChunklcm_test_page||[]).push([["9973"],{8579:function(n,e,i){i.r(e),i.d(e,{default:()=>a});var s=i(5893),c=i(65);function l(n){let e=Object.assign({ol:"ol",li:"li",h1:"h1",h2:"h2",pre:"pre",code:"code",p:"p",a:"a",img:"img"},(0,c.ah)(),n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.h1,{children:"前置准备"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.h2,{children:"下载vecli"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-Bash",children:"npm i @volc-iaas-test01/vecli@latest -g\n"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.h2,{children:"添加火山Vefaas MCP"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-Bash",children:'vi ~/.ve/settings.json\n\n#新增火山Vefaas mcp server\n"mcpServers": {\n    "mcp_server_vefaas_function": {\n      "httpUrl": "https://vefaas.mcp.volcbiz.com/mcp?token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjczZDA1MzM1NGJjNDExZWY5NGU2ZThlYmQzMmVlNmUyIn0.eyJhdWQiOlsibWNwLXZlZmFhcy02NjE3NTFmYjhiIl0sImV4cCI6MTc1NzMyMzUxNiwiaWF0IjoxNzU3MTUwNzE2LCJpc3MiOiJodHRwczovL3NpZ25pbi52b2xjZW5naW5lLmNvbSIsImp0aSI6IjY2MTc1MjE0OGIwMzExZjBhOTczMzQzNmFjMTIwMDU3IiwibXNnIjoiSDRzSUFBQUFBQUFDLytKeTVXSUpkdlQxRVRJc0tjcXp5a3pNdGJJeU1qQXdNREEwTWpReHR5b3RUaTNTenluTlQ4NG96Y3ROelhSSXFpeEpUVW5NUzA3VlM4N1BsVGo3Ky8xUk5vVnpJRkxJbElzbHREaTFTT0RoOGl0aVVod0Ivczd4bm9tSndVcGdzNzBrY0JrQkNBQUEvLzhOVnBFVGZnQUFBQT09IiwibmFtZSI6Imx1b2NodW5tZWlAYnl0ZWRhbmNlLmNvbSIsInN1YiI6IjIwMDAwMTIxNDciLCJ0b3BpYyI6InNpZ25pbl9jcmVkZW50aWFsIiwidHJuIjoidHJuOmlhbTo6MjAwMDAxMjE0Nzp1c2VyL2x1b2NodW5tZWlAYnl0ZWRhbmNlLmNvbSIsInZlcnNpb24iOiJ2MSIsInppcCI6Imd6aXAifQ.Kb3HhmBvt8Euo0JV5y5293iPv7rTrdAh1XaW4VCFFV5zxJAudprIMZAH1_PsjJaED20BAiMB_eci97PIET-heGgwS7l99ad1mgr7GefMsYJRLPtvJBLJmfla2jyhmd9z_M7jSQcT2yXBLQkGLdOHMAfO794M4YCb8dIlq5psFjvoE8G372QpUTI5kP8MQsBjjsmyaqQo0L_KR_o0FxQRu2r8IAUT-VqWdwzrLHnX-VyuqAUVxT0XDHEfI18ElpDVyUXHpMxOSagbRcd6hIYeLQpVZdnJRPawFzT6LcQPf-dxNev6Y20ZLadezZ9koWWyuw0645D_bIhSwy24CqGsug"\n    }\n  }\n'})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.h1,{children:"本地构建需求"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.h2,{children:"创建需求md文档"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"创建工作目录"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-Bash",children:"mkdir train_mcp\ncd train_mcp\nvi VE.md\n"})}),"\n",(0,s.jsx)(e.p,{children:"构建VE.md文档"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-Markdown",children:'# 12306查票API的MCP工具配置（基于聚合数据API）\n\n## 核心任务\n基于聚合数据的12306查票API，将其封装为一个MCP工具，直接调用mcp工具mcp_server_vefaas_function将产物部署部署到云平台，名称为`train_ticket_query`。产出的MCP要确保可以被正确的识别和调用。\n\n## 12306查票API基础信息\n- 接口地址：`https://apis.juhe.cn/fapigw/train/query`\n- 请求方式：`GET`\n- API密钥：`a7c7175096aa71c02b919f43ee8222b3`（已内置，无需用户输入）\n- 文档参考：[聚合数据12306查票接口](https://apis.juhe.cn/fapigw/train/query)\n\n## 12306查票MCP工具定义\n### 工具名称\n`train_ticket_query`\n\n### 功能描述\n查询指定日期、出发站和到达站的火车票信息，返回车次、时间、座位类型及余票状态。\n\n### 参数规范\n```json\n{\n  "name": "train_ticket_query",\n  "description": "查询指定日期、出发站和到达站的火车票信息，返回车次、时间、座位类型及余票状态。",\n  "inputSchema": {\n    "type": "object",\n    "properties": {\n      "from": {\n        "type": "string",\n        "description": "出发站城市（如：北京，需使用城市名而非车站名）"\n      },\n      "to": {\n        "type": "string",\n        "description": "到达站城市（如：上海）"\n      },\n      "date": {\n        "type": "string",\n        "format": "YYYY-MM-DD",\n        "description": "出发日期（如：2024-10-01）"\n      }\n    },\n    "required": ["from", "to", "date"]\n  }\n}\n```\n\n### 结果校验\n1. 部署完成后要检查是否正确被启动\n2. 确保mcp工具可以被正确的识别和调用\n3. 构建一个总结，描述mcp工具应该如何被正确添加和使用\n~\n'})}),"\n",(0,s.jsxs)(e.h1,{id:"开始执行",children:["开始执行",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#开始执行",children:"#"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-Bash",children:"# 启动vecli\nvecli\n\n# 选择模型 （kimi-k2）\n/model\n\n# 输入指令\n请帮我实现 VE.md 文件的需求\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"/demo1.png",alt:"img"})}),"\n",(0,s.jsx)(e.p,{children:"选择始终允许（allow always）"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"/demo2.png",alt:"img"})}),"\n",(0,s.jsx)(e.p,{children:"选择始终信任mcp的所有工具"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"/demo3.png",alt:"img"})}),"\n",(0,s.jsx)(e.p,{children:"本地生成了所有必要文件"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"/demo4.png",alt:"img"})}),"\n",(0,s.jsx)(e.p,{children:"生成用于打包的云函数部署"}),"\n",(0,s.jsx)(e.p,{children:"测试本地运行，选择完全允许（yes， allow always）"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"/demo5.png",alt:"img"})}),"\n",(0,s.jsx)(e.p,{children:"打包脚本创建部署包"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"/demo6.png",alt:"img"})}),"\n",(0,s.jsxs)(e.h1,{id:"生成mcp-云服务",children:["生成mcp 云服务",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#生成mcp-云服务",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"/demo7.png",alt:"img"})})]})}function r(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,c.ah)(),n.components);return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(l,{...n})}):l(n)}let a=r;r.__RSPRESS_PAGE_META={},r.__RSPRESS_PAGE_META["zh%2Fexamples%2Fvecli-12306.md"]={toc:[],title:"生成mcp 云服务",headingTitle:"生成mcp 云服务",frontmatter:{}}}}]);