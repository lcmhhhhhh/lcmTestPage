"use strict";(self.webpackChunklcm_test_page=self.webpackChunklcm_test_page||[]).push([["5546"],{2207:function(n,e,s){s.r(e),s.d(e,{default:()=>c});var i=s(5893),l=s(65);function r(n){let e=Object.assign({h1:"h1",a:"a",p:"p",ul:"ul",li:"li",h2:"h2",strong:"strong",code:"code",ol:"ol",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",em:"em"},(0,l.ah)(),n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.h1,{id:"故障排除指南",children:["故障排除指南",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#故障排除指南",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"本指南提供了常见问题的解决方案和调试技巧，包括以下主题："}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"身份验证或登录错误"}),"\n",(0,i.jsx)(e.li,{children:"常见问题解答 (FAQ)"}),"\n",(0,i.jsx)(e.li,{children:"调试技巧"}),"\n",(0,i.jsx)(e.li,{children:"与您遇到的问题相似的现有 GitHub Issues 或创建新 Issues"}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"身份验证或登录错误",children:["身份验证或登录错误",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#身份验证或登录错误",children:"#"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsxs)(e.strong,{children:["错误: ",(0,i.jsx)(e.code,{children:"UNABLE_TO_GET_ISSUER_CERT_LOCALLY"})," 或 ",(0,i.jsx)(e.code,{children:"unable to get local issuer certificate"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"原因:"})," 您可能在 corporate 网络中，该网络的防火墙会拦截和检查 SSL/TLS 流量。这通常需要 Node.js 信任自定义根 CA 证书。"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"解决方案:"})," 将 ",(0,i.jsx)(e.code,{children:"NODE_EXTRA_CA_CERTS"})," 环境变量设置为您的 corporate 根 CA 证书文件的绝对路径。","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["示例: ",(0,i.jsx)(e.code,{children:"export NODE_EXTRA_CA_CERTS=/path/to/your/corporate-ca.crt"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"常见问题解答-faq",children:["常见问题解答 (FAQ)",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#常见问题解答-faq",children:"#"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"问: 如何将 VeCLI 更新到最新版本？"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["答: 如果您是通过 ",(0,i.jsx)(e.code,{children:"npm"})," 全局安装的，请使用命令 ",(0,i.jsx)(e.code,{children:"npm install -g @vecli/vecli@latest"})," 更新。如果您是从源代码编译的，请从存储库中拉取最新更改，然后使用命令 ",(0,i.jsx)(e.code,{children:"npm run build"})," 重新构建。"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"问: VeCLI 的配置或设置文件存储在哪里？"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["答: VeCLI 配置存储在两个 ",(0,i.jsx)(e.code,{children:"settings.json"})," 文件中："]}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["在您的主目录中: ",(0,i.jsx)(e.code,{children:"~/.ve/settings.json"}),"。"]}),"\n",(0,i.jsxs)(e.li,{children:["在您的项目根目录中: ",(0,i.jsx)(e.code,{children:"./.ve/settings.json"}),"。"]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["有关更多详细信息，请参阅 ",(0,i.jsx)(e.a,{href:"/zh/cli/configuration",children:"VeCLI 配置"}),"。"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"问: 为什么在我的统计输出中看不到缓存的令牌计数？"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["答: 只有在使用缓存令牌时才会显示缓存的令牌信息。此功能适用于 API 密钥用户（vecli API 密钥或火山引擎 Vertex AI），但不适用于 OAuth 用户（例如火山引擎个人/企业帐户，如火山引擎 Gmail 或火山引擎工作区）。这是因为火山引擎代码助手 API 不支持缓存内容创建。您仍然可以使用 VeCLI 中的 ",(0,i.jsx)(e.code,{children:"/stats"})," 命令查看总令牌使用量。"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"常见错误消息和解决方案",children:["常见错误消息和解决方案",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#常见错误消息和解决方案",children:"#"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsxs)(e.strong,{children:["错误: 启动 MCP 服务器时出现 ",(0,i.jsx)(e.code,{children:"EADDRINUSE"})," (地址已在使用中)。"]})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"原因:"})," 另一个进程已经在使用 MCP 服务器试图绑定的端口。"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"解决方案:"}),"\n要么停止使用该端口的其他进程，要么配置 MCP 服务器使用不同的端口。"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsxs)(e.strong,{children:["错误: 找不到命令 (尝试使用 ",(0,i.jsx)(e.code,{children:"vecli"})," 运行 VeCLI 时)。"]})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"原因:"})," VeCLI 未正确安装，或者它不在您的系统 ",(0,i.jsx)(e.code,{children:"PATH"})," 中。"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"解决方案:"}),"\n更新方法取决于您安装 VeCLI 的方式：","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["如果您全局安装了 ",(0,i.jsx)(e.code,{children:"vecli"}),"，请检查您的 ",(0,i.jsx)(e.code,{children:"npm"})," 全局二进制目录是否在您的 ",(0,i.jsx)(e.code,{children:"PATH"})," 中。您可以使用命令 ",(0,i.jsx)(e.code,{children:"npm install -g @vecli/vecli@latest"})," 更新 VeCLI。"]}),"\n",(0,i.jsxs)(e.li,{children:["如果您是从源代码运行 ",(0,i.jsx)(e.code,{children:"vecli"}),"，请确保您使用正确的命令来调用它（例如，",(0,i.jsx)(e.code,{children:"node packages/cli/dist/index.js ..."}),"）。要更新 VeCLI，请从存储库中拉取最新更改，然后使用命令 ",(0,i.jsx)(e.code,{children:"npm run build"})," 重新构建。"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsxs)(e.strong,{children:["错误: ",(0,i.jsx)(e.code,{children:"MODULE_NOT_FOUND"})," 或导入错误。"]})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"原因:"})," 依赖项未正确安装，或者项目尚未构建。"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"解决方案:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["运行 ",(0,i.jsx)(e.code,{children:"npm install"})," 以确保所有依赖项都存在。"]}),"\n",(0,i.jsxs)(e.li,{children:["运行 ",(0,i.jsx)(e.code,{children:"npm run build"})," 以编译项目。"]}),"\n",(0,i.jsxs)(e.li,{children:["使用 ",(0,i.jsx)(e.code,{children:"npm run start"})," 验证构建是否成功完成。"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:'错误: "Operation not permitted"、"Permission denied" 或类似错误。'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"原因:"})," 启用沙盒时，VeCLI 可能会尝试执行受沙盒配置限制的操作，例如在项目目录或系统临时目录之外进行写入。"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"解决方案:"})," 有关更多信息，包括如何自定义沙盒配置，请参阅 ",(0,i.jsx)(e.a,{href:"/zh/cli/configuration#sandboxing",children:"配置: 沙盒"})," 文档。"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:'VeCLI 在 "CI" 环境中未以交互模式运行'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"问题:"})," 如果设置了以 ",(0,i.jsx)(e.code,{children:"CI_"})," 开头的环境变量（例如 ",(0,i.jsx)(e.code,{children:"CI_TOKEN"}),"），VeCLI 将不会进入交互模式（不会出现提示）。这是因为底层 UI 框架使用的 ",(0,i.jsx)(e.code,{children:"is-in-ci"})," 包检测到这些变量并假定为非交互式 CI 环境。"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"原因:"})," ",(0,i.jsx)(e.code,{children:"is-in-ci"})," 包会检查是否存在 ",(0,i.jsx)(e.code,{children:"CI"}),"、",(0,i.jsx)(e.code,{children:"CONTINUOUS_INTEGRATION"})," 或任何以 ",(0,i.jsx)(e.code,{children:"CI_"})," 为前缀的环境变量。当发现其中任何一个时，它会发出信号表明环境是非交互式的，这会阻止 VeCLI 以交互模式启动。"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"解决方案:"})," 如果不需要 CLI 功能的 ",(0,i.jsx)(e.code,{children:"CI_"})," 前缀变量，您可以为命令暂时取消设置它。例如，",(0,i.jsx)(e.code,{children:"env -u CI_TOKEN vecli"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"从项目 .env 文件中 DEBUG 模式不工作"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"问题:"})," 在项目的 ",(0,i.jsx)(e.code,{children:".env"})," 文件中设置 ",(0,i.jsx)(e.code,{children:"DEBUG=true"})," 不会为 vecli-cli 启用调试模式。"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"原因:"})," ",(0,i.jsx)(e.code,{children:"DEBUG"})," 和 ",(0,i.jsx)(e.code,{children:"DEBUG_MODE"})," 变量会自动从项目 ",(0,i.jsx)(e.code,{children:".env"})," 文件中排除，以防止干扰 vecli-cli 行为。"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"解决方案:"})," 请改用 ",(0,i.jsx)(e.code,{children:".ve/.env"})," 文件，或在 ",(0,i.jsx)(e.code,{children:"settings.json"})," 中配置 ",(0,i.jsx)(e.code,{children:"advanced.excludedEnvVars"})," 设置以排除更少的变量。"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"退出代码",children:["退出代码",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#退出代码",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"VeCLI 使用特定的退出代码来指示终止的原因。这对于脚本和自动化特别有用。"}),"\n",(0,i.jsxs)(e.table,{children:["\n",(0,i.jsxs)(e.thead,{children:["\n",(0,i.jsxs)(e.tr,{children:["\n",(0,i.jsx)(e.th,{children:"退出代码"}),"\n",(0,i.jsx)(e.th,{children:"错误类型"}),"\n",(0,i.jsx)(e.th,{children:"描述"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.tbody,{children:["\n",(0,i.jsxs)(e.tr,{children:["\n",(0,i.jsx)(e.td,{children:"41"}),"\n",(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"FatalAuthenticationError"})}),"\n",(0,i.jsx)(e.td,{children:"身份验证过程中发生错误。"}),"\n"]}),"\n",(0,i.jsxs)(e.tr,{children:["\n",(0,i.jsx)(e.td,{children:"42"}),"\n",(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"FatalInputError"})}),"\n",(0,i.jsx)(e.td,{children:"提供给 CLI 的输入无效或缺失。（仅限非交互模式）"}),"\n"]}),"\n",(0,i.jsxs)(e.tr,{children:["\n",(0,i.jsx)(e.td,{children:"44"}),"\n",(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"FatalSandboxError"})}),"\n",(0,i.jsx)(e.td,{children:"沙盒环境（例如 Docker、Podman 或 Seatbelt）发生错误。"}),"\n"]}),"\n",(0,i.jsxs)(e.tr,{children:["\n",(0,i.jsx)(e.td,{children:"52"}),"\n",(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"FatalConfigError"})}),"\n",(0,i.jsxs)(e.td,{children:["配置文件 (",(0,i.jsx)(e.code,{children:"settings.json"}),") 无效或包含错误。"]}),"\n"]}),"\n",(0,i.jsxs)(e.tr,{children:["\n",(0,i.jsx)(e.td,{children:"53"}),"\n",(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"FatalTurnLimitedError"})}),"\n",(0,i.jsx)(e.td,{children:"会话的最大对话轮数已达到。（仅限非交互模式）"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"调试技巧",children:["调试技巧",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#调试技巧",children:"#"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"CLI 调试:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["在 CLI 命令中使用 ",(0,i.jsx)(e.code,{children:"--verbose"})," 标志（如果可用）以获得更详细的输出。"]}),"\n",(0,i.jsx)(e.li,{children:"检查 CLI 日志，通常位于用户特定的配置或缓存目录中。"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"核心调试:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"检查服务器控制台输出中的错误消息或堆栈跟踪。"}),"\n",(0,i.jsx)(e.li,{children:"如果可配置，请增加日志详细程度。"}),"\n",(0,i.jsxs)(e.li,{children:["如果您需要逐步执行服务器端代码，请使用 Node.js 调试工具（例如 ",(0,i.jsx)(e.code,{children:"node --inspect"}),"）。"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"工具问题:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"如果某个特定工具失败，请尝试通过运行该工具执行的命令或操作的最简单版本来隔离问题。"}),"\n",(0,i.jsxs)(e.li,{children:["对于 ",(0,i.jsx)(e.code,{children:"run_shell_command"}),"，请先检查该命令是否在您的 shell 中直接工作。"]}),"\n",(0,i.jsxs)(e.li,{children:["对于 ",(0,i.jsx)(e.em,{children:"文件系统工具"}),"，请验证路径是否正确并检查权限。"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"预检检查:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["在提交代码之前，请始终运行 ",(0,i.jsx)(e.code,{children:"npm run preflight"}),"。这可以捕获许多与格式、代码规范和类型错误相关的常见问题。"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"与您遇到的问题相似的现有-github-issues-或创建新-issues",children:["与您遇到的问题相似的现有 GitHub Issues 或创建新 Issues",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#与您遇到的问题相似的现有-github-issues-或创建新-issues",children:"#"})]}),"\n",(0,i.jsxs)(e.p,{children:["如果您遇到此 ",(0,i.jsx)(e.em,{children:"故障排除指南"})," 中未涵盖的问题，请考虑在 VeCLI ",(0,i.jsx)(e.a,{href:"https://github.com/volcengine-vecli/vecli/issues",target:"_blank",rel:"noopener noreferrer",children:"GitHub 上的问题跟踪器"})," 中进行搜索。如果您找不到与您遇到的问题相似的问题，请考虑创建一个新的 GitHub Issue，并提供详细描述。也欢迎提交 Pull requests！"]})]})}function d(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,l.ah)(),n.components);return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(r,{...n})}):r(n)}let c=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["zh%2Ftroubleshooting.md"]={toc:[{text:"身份验证或登录错误",id:"身份验证或登录错误",depth:2},{text:"常见问题解答 (FAQ)",id:"常见问题解答-faq",depth:2},{text:"常见错误消息和解决方案",id:"常见错误消息和解决方案",depth:2},{text:"退出代码",id:"退出代码",depth:2},{text:"调试技巧",id:"调试技巧",depth:2},{text:"与您遇到的问题相似的现有 GitHub Issues 或创建新 Issues",id:"与您遇到的问题相似的现有-github-issues-或创建新-issues",depth:2}],title:"故障排除指南",headingTitle:"故障排除指南",frontmatter:{}}}}]);