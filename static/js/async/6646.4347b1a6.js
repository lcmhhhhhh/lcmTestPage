"use strict";(self.webpackChunklcm_test_page=self.webpackChunklcm_test_page||[]).push([["6646"],{7517:function(e,n,i){i.r(n),i.d(n,{default:()=>o});var s=i(5893),r=i(65);function t(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",hr:"hr",h3:"h3",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",ol:"ol"},(0,r.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"vecli-execution-and-deployment",children:["VeCLI Execution and Deployment",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#vecli-execution-and-deployment",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"This document describes how to run VeCLI and explains the deployment architecture that VeCLI uses."}),"\n",(0,s.jsxs)(n.h2,{id:"running-vecli",children:["Running VeCLI",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#running-vecli",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"There are several ways to run VeCLI. The option you choose depends on how you intend to use VeCLI."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"1-standard-installation-recommended-for-typical-users",children:["1. Standard installation (Recommended for typical users)",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-standard-installation-recommended-for-typical-users",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"This is the recommended way for end-users to install VeCLI. It involves downloading the VeCLI package from the NPM registry."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Global install:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install -g @vecli/vecli\n"})}),"\n",(0,s.jsx)(n.p,{children:"Then, run the CLI from anywhere:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"vecli\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"NPX execution:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Execute the latest version from NPM without a global install\nnpx @vecli/vecli\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"2-running-in-a-sandbox-dockerpodman",children:["2. Running in a sandbox (Docker/Podman)",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-running-in-a-sandbox-dockerpodman",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"For security and isolation, VeCLI can be run inside a container. This is the default way that the CLI executes tools that might have side effects."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Directly from the Registry:"}),"\nYou can run the published sandbox image directly. This is useful for environments where you only have Docker and want to run the CLI.","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Run the published sandbox image\ndocker run --rm -it us-docker.pkg.dev/vecli-code-dev/vecli/sandbox:0.1.1\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["Using the ",(0,s.jsx)(n.code,{children:"--sandbox"})," flag:"]}),"\nIf you have VeCLI installed locally (using the standard installation described above), you can instruct it to run inside the sandbox container.","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'vecli --sandbox -y -p "your prompt here"\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"3-running-from-source-recommended-for-vecli-contributors",children:["3. Running from source (Recommended for VeCLI contributors)",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-running-from-source-recommended-for-vecli-contributors",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Contributors to the project will want to run the CLI directly from the source code."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Development Mode:"}),"\nThis method provides hot-reloading and is useful for active development."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# From the root of the repository\nnpm run start\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Production-like mode (Linked package):"}),"\nThis method simulates a global installation by linking your local package. It's useful for testing a local build in a production workflow."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Link the local cli package to your global node_modules\nnpm link packages/cli\n\n# Now you can run your local version using the `vecli` command\nvecli\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"4-running-the-latest-vecli-commit-from-github",children:["4. Running the latest VeCLI commit from GitHub",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-running-the-latest-vecli-commit-from-github",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"You can run the most recently committed version of VeCLI directly from the GitHub repository. This is useful for testing features still in development."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Execute the CLI directly from the main branch on GitHub\nnpx https://github.com/volcengine/vecli\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"deployment-architecture",children:["Deployment architecture",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#deployment-architecture",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"The execution methods described above are made possible by the following architectural components and processes:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"NPM packages"})}),"\n",(0,s.jsx)(n.p,{children:"VeCLI project is a monorepo that publishes two core packages to the NPM registry:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@vecli/vecli-core"}),": The backend, handling logic and tool execution."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@vecli/vecli"}),": The user-facing frontend."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"These packages are used when performing the standard installation and when running VeCLI from the source."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Build and packaging processes"})}),"\n",(0,s.jsx)(n.p,{children:"There are two distinct build processes used, depending on the distribution channel:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"NPM publication:"})," For publishing to the NPM registry, the TypeScript source code in ",(0,s.jsx)(n.code,{children:"@vecli/vecli-core"})," and ",(0,s.jsx)(n.code,{children:"@vecli/vecli"})," is transpiled into standard JavaScript using the TypeScript Compiler (",(0,s.jsx)(n.code,{children:"tsc"}),"). The resulting ",(0,s.jsx)(n.code,{children:"dist/"})," directory is what gets published in the NPM package. This is a standard approach for TypeScript libraries."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsxs)(n.strong,{children:["GitHub ",(0,s.jsx)(n.code,{children:"npx"})," execution:"]})," When running the latest version of VeCLI directly from GitHub, a different process is triggered by the ",(0,s.jsx)(n.code,{children:"prepare"})," script in ",(0,s.jsx)(n.code,{children:"package.json"}),". This script uses ",(0,s.jsx)(n.code,{children:"esbuild"})," to bundle the entire application and its dependencies into a single, self-contained JavaScript file. This bundle is created on-the-fly on the user's machine and is not checked into the repository."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Docker sandbox image"})}),"\n",(0,s.jsxs)(n.p,{children:["The Docker-based execution method is supported by the ",(0,s.jsx)(n.code,{children:"vecli-sandbox"})," container image. This image is published to a container registry and contains a pre-installed, global version of VeCLI."]}),"\n",(0,s.jsxs)(n.h2,{id:"release-process",children:["Release process",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#release-process",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"The release process is automated through GitHub Actions. The release workflow performs the following actions:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Build the NPM packages using ",(0,s.jsx)(n.code,{children:"tsc"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Publish the NPM packages to the artifact registry."}),"\n",(0,s.jsx)(n.li,{children:"Create GitHub releases with bundled assets."}),"\n"]})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}let o=c;c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["en%2Fdeployment.md"]={toc:[{text:"Running VeCLI",id:"running-vecli",depth:2},{text:"1. Standard installation (Recommended for typical users)",id:"1-standard-installation-recommended-for-typical-users",depth:3},{text:"2. Running in a sandbox (Docker/Podman)",id:"2-running-in-a-sandbox-dockerpodman",depth:3},{text:"3. Running from source (Recommended for VeCLI contributors)",id:"3-running-from-source-recommended-for-vecli-contributors",depth:3},{text:"4. Running the latest VeCLI commit from GitHub",id:"4-running-the-latest-vecli-commit-from-github",depth:3},{text:"Deployment architecture",id:"deployment-architecture",depth:2},{text:"Release process",id:"release-process",depth:2}],title:"VeCLI Execution and Deployment",headingTitle:"VeCLI Execution and Deployment",frontmatter:{}}}}]);