"use strict";(self.webpackChunklcm_test_page=self.webpackChunklcm_test_page||[]).push([["7920"],{6905:function(e,n,s){s.r(n),s.d(n,{default:()=>h});var l=s(5893),r=s(65);function c(e){let n=Object.assign({h1:"h1",a:"a",p:"p",strong:"strong",ol:"ol",li:"li",ul:"ul",pre:"pre",code:"code",blockquote:"blockquote",h3:"h3",h4:"h4",h2:"h2"},(0,r.ah)(),e.components);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.h1,{id:"身份验证设置",children:["身份验证设置",(0,l.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#身份验证设置",children:"#"})]}),"\n",(0,l.jsxs)(n.p,{children:["VeCLI 需要您通过 Google 的 AI 服务进行身份验证。在初始启动时，您需要配置以下身份验证方法中的",(0,l.jsx)(n.strong,{children:"一种"}),"："]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"使用 Google 登录（Ve Code Assist）："})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"使用此选项通过您的 Google 账户登录。"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"在初始启动期间，VeCLI 将引导您到网页进行身份验证。一旦通过身份验证，您的凭据将在本地缓存，因此在后续运行时可以跳过网页登录。"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"请注意，网页登录必须在能够与运行 VeCLI 的机器通信的浏览器中完成。（具体来说，浏览器将被重定向到 VeCLI 将监听的 localhost url）。"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"用户可能需要指定 GOOGLE_CLOUD_PROJECT，如果："}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["您有 Google Workspace 账户。Google Workspace 是为企业和组织提供的付费服务，提供一套生产力工具，包括自定义电子邮件域（例如 ",(0,l.jsx)(n.a,{href:"mailto:your-name@your-company.com",children:"your-name@your-company.com"}),"）、增强的安全功能和管理控制。这些账户通常由雇主或学校管理。"]}),"\n",(0,l.jsxs)(n.li,{children:["您通过 ",(0,l.jsx)(n.a,{href:"https://developers.google.com/program/plans-and-pricing",target:"_blank",rel:"noopener noreferrer",children:"Google 开发者计划"})," 获得了 Ve Code Assist 许可证（包括合格的 Google 开发者专家）"]}),"\n",(0,l.jsx)(n.li,{children:"您已被分配到当前 Ve Code Assist 标准或企业订阅的许可证。"}),"\n",(0,l.jsxs)(n.li,{children:["您在免费个人使用的",(0,l.jsx)(n.a,{href:"https://developers.google.com/gemini-code-assist/resources/available-locations",target:"_blank",rel:"noopener noreferrer",children:"支持区域"}),"之外使用该产品。"]}),"\n",(0,l.jsx)(n.li,{children:"您是 18 岁以下的 Google 账户持有者"}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["如果您属于这些类别之一，您必须首先配置要使用的 Google Cloud 项目 ID，",(0,l.jsx)(n.a,{href:"https://cloud.google.com/gemini/docs/discover/set-up-gemini#enable-api",target:"_blank",rel:"noopener noreferrer",children:"启用 Gemini for Cloud API"})," 并",(0,l.jsx)(n.a,{href:"https://cloud.google.com/gemini/docs/discover/set-up-gemini#grant-iam",target:"_blank",rel:"noopener noreferrer",children:"配置访问权限"}),"。"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"您可以使用以下命令在当前 shell 会话中临时设置环境变量："}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'export GOOGLE_CLOUD_PROJECT="YOUR_PROJECT_ID"\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["对于重复使用，您可以将环境变量添加到您的 ",(0,l.jsx)(n.a,{href:"#persisting-environment-variables-with-env-files",children:".env 文件"})," 或您的 shell 配置文件（如 ",(0,l.jsx)(n.code,{children:"~/.bashrc"}),"、",(0,l.jsx)(n.code,{children:"~/.zshrc"})," 或 ",(0,l.jsx)(n.code,{children:"~/.profile"}),"）。例如，以下命令将环境变量添加到 ",(0,l.jsx)(n.code,{children:"~/.bashrc"})," 文件："]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"echo 'export GOOGLE_CLOUD_PROJECT=\"YOUR_PROJECT_ID\"' >> ~/.bashrc\nsource ~/.bashrc\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Gemini API 密钥："})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["从 Google AI Studio 获取您的 API 密钥：",(0,l.jsx)(n.a,{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",children:(0,l.jsx)(n.a,{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",children:"https://aistudio.google.com/app/apikey"})})]}),"\n",(0,l.jsxs)(n.li,{children:["设置 ",(0,l.jsx)(n.code,{children:"GEMINI_API_KEY"})," 环境变量。在以下方法中，将 ",(0,l.jsx)(n.code,{children:"YOUR_GEMINI_API_KEY"})," 替换为您从 Google AI Studio 获得的 API 密钥：","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"您可以使用以下命令在当前 shell 会话中临时设置环境变量："}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'export GEMINI_API_KEY="YOUR_GEMINI_API_KEY"\n'})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["对于重复使用，您可以将环境变量添加到您的 ",(0,l.jsx)(n.a,{href:"#persisting-environment-variables-with-env-files",children:".env 文件"}),"。"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["或者，您可以从 shell 配置文件（如 ",(0,l.jsx)(n.code,{children:"~/.bashrc"}),"、",(0,l.jsx)(n.code,{children:"~/.zshrc"})," 或 ",(0,l.jsx)(n.code,{children:"~/.profile"}),"）导出 API 密钥。例如，以下命令将环境变量添加到 ",(0,l.jsx)(n.code,{children:"~/.bashrc"})," 文件："]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"echo 'export GEMINI_API_KEY=\"YOUR_GEMINI_API_KEY\"' >> ~/.bashrc\nsource ~/.bashrc\n"})}),"\n",(0,l.jsx)(n.p,{children:":warning: 请注意，当您在 shell 配置文件中导出 API 密钥时，从 shell 执行的任何其他进程都可以读取它。"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Vertex AI："})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"API 密钥："})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["获取您的 Google Cloud API 密钥：",(0,l.jsx)(n.a,{href:"https://cloud.google.com/vertex-ai/generative-ai/docs/start/api-keys?usertype=newuser",target:"_blank",rel:"noopener noreferrer",children:"获取 API 密钥"})]}),"\n",(0,l.jsxs)(n.li,{children:["设置 ",(0,l.jsx)(n.code,{children:"GOOGLE_API_KEY"})," 环境变量。在以下方法中，将 ",(0,l.jsx)(n.code,{children:"YOUR_GOOGLE_API_KEY"})," 替换为您的 Vertex AI API 密钥：","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"您可以使用以下命令在当前 shell 会话中临时设置环境变量："}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'export GOOGLE_API_KEY="YOUR_GOOGLE_API_KEY"\n'})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["对于重复使用，您可以将环境变量添加到您的 ",(0,l.jsx)(n.a,{href:"#persisting-environment-variables-with-env-files",children:".env 文件"})," 或您的 shell 配置文件（如 ",(0,l.jsx)(n.code,{children:"~/.bashrc"}),"、",(0,l.jsx)(n.code,{children:"~/.zshrc"})," 或 ",(0,l.jsx)(n.code,{children:"~/.profile"}),"）。例如，以下命令将环境变量添加到 ",(0,l.jsx)(n.code,{children:"~/.bashrc"})," 文件："]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"echo 'export GOOGLE_API_KEY=\"YOUR_GOOGLE_API_KEY\"' >> ~/.bashrc\nsource ~/.bashrc\n"})}),"\n",(0,l.jsx)(n.p,{children:":warning: 请注意，当您在 shell 配置文件中导出 API 密钥时，从 shell 执行的任何其他进程都可以读取它。"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"注意："}),"\n如果您遇到类似 ",(0,l.jsx)(n.code,{children:'"API keys are not supported by this API - Expected OAuth2 access token or other authentication credentials that assert a principal"'})," 的错误，很可能您的组织限制了服务账户 API 密钥的创建。在这种情况下，请尝试下面描述的",(0,l.jsx)(n.a,{href:"#service-account-json-key",children:"服务账户 JSON 密钥"}),"方法。"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"应用程序默认凭据（ADC）："})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"注意："}),"\n如果您之前设置了 ",(0,l.jsx)(n.code,{children:"GOOGLE_API_KEY"})," 或 ",(0,l.jsx)(n.code,{children:"GEMINI_API_KEY"})," 环境变量，您必须取消设置它们才能使用应用程序默认凭据。"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"unset GOOGLE_API_KEY GEMINI_API_KEY\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsxs)(n.strong,{children:["使用 ",(0,l.jsx)(n.code,{children:"gcloud"}),"（用于本地开发）："]})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"确保您有 Google Cloud 项目并已启用 Vertex AI API。"}),"\n",(0,l.jsxs)(n.li,{children:["使用您的用户凭据登录：","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"gcloud auth application-default login\n"})}),"\n","有关更多信息，请参阅",(0,l.jsx)(n.a,{href:"https://cloud.google.com/docs/authentication/provide-credentials-adc",target:"_blank",rel:"noopener noreferrer",children:"为 Google Cloud 设置应用程序默认凭据"}),"。"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"使用服务账户（用于应用程序或当服务账户 API 密钥受限时）："})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["如果由于",(0,l.jsx)(n.a,{href:"https://cloud.google.com/vertex-ai/generative-ai/docs/start/api-keys?usertype=existinguser#expandable-2",target:"_blank",rel:"noopener noreferrer",children:"组织策略"}),"而无法创建 API 密钥，或者如果您在非交互式环境中运行，您可以使用服务账户密钥进行身份验证。"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://cloud.google.com/iam/docs/keys-create-delete",target:"_blank",rel:"noopener noreferrer",children:"创建服务账户和密钥"}),'，并下载 JSON 密钥文件。服务账户需要分配"Vertex AI 用户"角色。']}),"\n",(0,l.jsxs)(n.li,{children:["将 ",(0,l.jsx)(n.code,{children:"GOOGLE_APPLICATION_CREDENTIALS"})," 环境变量设置为 JSON 文件的绝对路径。","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["您可以在当前 shell 会话中临时设置环境变量：","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'export GOOGLE_APPLICATION_CREDENTIALS="/path/to/your/keyfile.json"\n'})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["对于重复使用，您可以将命令添加到您的 shell 配置文件（例如，",(0,l.jsx)(n.code,{children:"~/.bashrc"}),"）。","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"echo 'export GOOGLE_APPLICATION_CREDENTIALS=\"/path/to/your/keyfile.json\"' >> ~/.bashrc\nsource ~/.bashrc\n"})}),"\n",":warning: 请注意，当您在 shell 配置文件中导出服务账户凭据时，从 shell 执行的任何其他进程都可以读取它。"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"ADC 所需的环境变量："})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["使用 ADC（使用 ",(0,l.jsx)(n.code,{children:"gcloud"})," 或服务账户）时，您还必须设置 ",(0,l.jsx)(n.code,{children:"GOOGLE_CLOUD_PROJECT"})," 和 ",(0,l.jsx)(n.code,{children:"GOOGLE_CLOUD_LOCATION"})," 环境变量。在以下方法中，将 ",(0,l.jsx)(n.code,{children:"YOUR_PROJECT_ID"})," 和 ",(0,l.jsx)(n.code,{children:"YOUR_PROJECT_LOCATION"})," 替换为您项目的相关值：","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["您可以使用以下命令在当前 shell 会话中临时设置这些环境变量：","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'export GOOGLE_CLOUD_PROJECT="YOUR_PROJECT_ID"\nexport GOOGLE_CLOUD_LOCATION="YOUR_PROJECT_LOCATION" # 例如，us-central1\n'})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["对于重复使用，您可以将环境变量添加到您的 ",(0,l.jsx)(n.a,{href:"#persisting-environment-variables-with-env-files",children:".env 文件"})," 或您的 shell 配置文件（如 ",(0,l.jsx)(n.code,{children:"~/.bashrc"}),"、",(0,l.jsx)(n.code,{children:"~/.zshrc"})," 或 ",(0,l.jsx)(n.code,{children:"~/.profile"}),"）。例如，以下命令将环境变量添加到 ",(0,l.jsx)(n.code,{children:"~/.bashrc"})," 文件：","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"echo 'export GOOGLE_CLOUD_PROJECT=\"YOUR_PROJECT_ID\"' >> ~/.bashrc\necho 'export GOOGLE_CLOUD_LOCATION=\"YOUR_PROJECT_LOCATION\"' >> ~/.bashrc\nsource ~/.bashrc\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Cloud Shell："})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"此选项仅在 Google Cloud Shell 环境中运行时可用。"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"它自动使用 Cloud Shell 环境中已登录用户的凭据。"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"这是在 Cloud Shell 中运行且未配置其他方法时的默认身份验证方法。"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:":warning: 请注意，当您在 shell 配置文件中导出 API 密钥时，从 shell 执行的任何其他进程都可以读取它。\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.h3,{id:"使用-env-文件持久化环境变量",children:["使用 ",(0,l.jsx)(n.code,{children:".env"})," 文件持久化环境变量",(0,l.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-env-文件持久化环境变量",children:"#"})]}),"\n",(0,l.jsxs)(n.p,{children:["您可以在项目目录或主目录中创建 ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:".ve/.env"})})," 文件。创建普通的 ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:".env"})})," 文件也可以，但建议使用 ",(0,l.jsx)(n.code,{children:".ve/.env"})," 来保持 Gemini 变量与其他工具隔离。"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"重要："})," 某些环境变量（如 ",(0,l.jsx)(n.code,{children:"DEBUG"})," 和 ",(0,l.jsx)(n.code,{children:"DEBUG_MODE"}),"）会自动从项目 ",(0,l.jsx)(n.code,{children:".env"})," 文件中排除，以防止干扰 gemini-cli 行为。对于 gemini-cli 特定变量，请使用 ",(0,l.jsx)(n.code,{children:".ve/.env"})," 文件。"]}),"\n",(0,l.jsxs)(n.p,{children:["VeCLI 自动从找到的",(0,l.jsx)(n.strong,{children:"第一个"})," ",(0,l.jsx)(n.code,{children:".env"})," 文件加载环境变量，使用以下搜索顺序："]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["从",(0,l.jsx)(n.strong,{children:"当前目录"}),"开始向上移动到 ",(0,l.jsx)(n.code,{children:"/"}),"，对于每个目录，它检查：","\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:".ve/.env"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:".env"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["如果未找到文件，它会回退到您的",(0,l.jsx)(n.strong,{children:"主目录"}),"：","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"~/.ve/.env"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"~/.env"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"重要："})," 搜索在遇到",(0,l.jsx)(n.strong,{children:"第一个"}),"文件时停止——变量",(0,l.jsx)(n.strong,{children:"不会"}),"跨多个文件合并。"]}),"\n"]}),"\n",(0,l.jsxs)(n.h4,{id:"示例",children:["示例",(0,l.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"项目特定覆盖"}),"（当您在项目内部时优先）："]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"mkdir -p .ve\necho 'GOOGLE_CLOUD_PROJECT=\"your-project-id\"' >> .ve/.env\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"用户范围设置"}),"（在每个目录中可用）："]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'mkdir -p ~/.ve\ncat >> ~/.ve/.env <<\'EOF\'\nGOOGLE_CLOUD_PROJECT="your-project-id"\nGEMINI_API_KEY="your-gemini-api-key"\nEOF\n'})}),"\n",(0,l.jsxs)(n.h2,{id:"非交互模式--无头环境",children:["非交互模式 / 无头环境",(0,l.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#非交互模式--无头环境",children:"#"})]}),"\n",(0,l.jsx)(n.p,{children:"在非交互式环境中运行 VeCLI 时，您无法使用交互式登录流程。\n相反，您必须使用环境变量配置身份验证。"}),"\n",(0,l.jsx)(n.p,{children:"CLI 将自动检测它是否在非交互式终端中运行，如果可用，将使用以下身份验证方法之一："}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Gemini API 密钥："})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["设置 ",(0,l.jsx)(n.code,{children:"GEMINI_API_KEY"})," 环境变量。"]}),"\n",(0,l.jsx)(n.li,{children:"CLI 将使用此密钥通过 Gemini API 进行身份验证。"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Vertex AI："})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["设置 ",(0,l.jsx)(n.code,{children:"GOOGLE_GENAI_USE_VERTEXAI=true"})," 环境变量。"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"使用 API 密钥："})," 设置 ",(0,l.jsx)(n.code,{children:"GOOGLE_API_KEY"})," 环境变量。"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"使用应用程序默认凭据（ADC）："}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["在您的环境中运行 ",(0,l.jsx)(n.code,{children:"gcloud auth application-default login"})," 来配置 ADC。"]}),"\n",(0,l.jsxs)(n.li,{children:["确保设置了 ",(0,l.jsx)(n.code,{children:"GOOGLE_CLOUD_PROJECT"})," 和 ",(0,l.jsx)(n.code,{children:"GOOGLE_CLOUD_LOCATION"})," 环境变量。"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"如果在非交互式会话中未设置这些环境变量，CLI 将退出并显示错误。"})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}let h=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["zh%2Fcli%2Fauthentication.md"]={toc:[{text:"使用 `.env` 文件持久化环境变量",id:"使用-env-文件持久化环境变量",depth:3},{text:"示例",id:"示例",depth:4},{text:"非交互模式 / 无头环境",id:"非交互模式--无头环境",depth:2}],title:"身份验证设置",headingTitle:"身份验证设置",frontmatter:{}}}}]);