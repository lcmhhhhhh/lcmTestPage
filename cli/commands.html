<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Rspress v1.45.3">
    <title data-rh="true">CLI Commands - Gemini CLI Documentation</title><meta data-rh="true" name="description" content="A comprehensive guide to installing, using, and developing Gemini CLI"/>
  <script>{;const saved = localStorage.getItem('rspress-theme-appearance');const preferDark = window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = !saved || saved === 'auto' ? preferDark : saved === 'dark';document.documentElement.classList.toggle('dark', isDark);document.documentElement.style.colorScheme = isDark ? 'dark' : 'light';}</script><script defer src="/static/js/styles.011f9cc5.js"></script><script defer src="/static/js/lib-react.3e1862fb.js"></script><script defer src="/static/js/lib-router.ab9ee1c0.js"></script><script defer src="/static/js/162.b8dda7eb.js"></script><script defer src="/static/js/index.f54aa8a4.js"></script><link href="/static/css/styles.e45a8283.css" rel="stylesheet"></head>

  <body >
    <div id="root"><div class="navContainer_d18b1 rspress-nav px-6  sticky_ddfa7"><div class="container_e4235 flex justify-between items-center h-full"><div class="navBarTitle_c5f07"><a href="/index.html" class="link_a7cea flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><div class="mr-1 min-w-8"><img src="/logo.jpeg" alt="logo" id="logo" class="rspress-logo"/></div></a></div><div class="flex flex-1 justify-end items-center"><div class="rightNav_a2fea"><div class="flex sm:flex-1 items-center sm:pl-4 sm:pr-2"><div class="rspress-nav-search-button navSearchButton_df1fb"><button><svg width="18" height="18" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9"></path></svg><p class="searchWord_af2c1">Search Docs</p><div style="opacity:0"><span></span><span>K</span></div></button></div><div class="mobileNavSearchButton_d85a9"><svg width="24" height="24" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9"></path></svg></div></div><div class="rspress-nav-menu menu h-14"><a href="/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">Guide</div></a><a href="/cli/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">CLI</div></a><a href="/core/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">Core</div></a><a href="/tools/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">Tools</div></a></div><div class="flex-center flex-row"><div class="mx-2"><div class="md:mr-2 rspress-nav-appearance"><div class="p-1 border border-solid border-gray-300 text-gray-400  cursor-pointer rounded-md hover:border-gray-600 hover:text-gray-600 dark:hover:border-gray-200 dark:hover:text-gray-200 transition-all duration-300 w-7 h-7"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="dark:hidden" width="18" height="18" fill="currentColor"><path d="M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6m0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4M12 4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1M12 24c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1M5.6 6.6c-.3 0-.5-.1-.7-.3L3.5 4.9c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.1.2-.4.3-.7.3M19.8 20.8c-.3 0-.5-.1-.7-.3l-1.4-1.4c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.2.2-.5.3-.7.3M3 13H1c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1M23 13h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1M4.2 20.8c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.4.3-.7.3M18.4 6.6c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.5.3-.7.3"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="hidden dark:block" width="18" height="18" fill="currentColor"><path d="M12.1 22h-.9c-5.5-.5-9.5-5.4-9-10.9.4-4.8 4.2-8.6 9-9 .4 0 .8.2 1 .5s.2.8-.1 1.1c-2 2.7-1.4 6.4 1.3 8.4 2.1 1.6 5 1.6 7.1 0 .3-.2.7-.3 1.1-.1.3.2.5.6.5 1-.2 2.7-1.5 5.1-3.6 6.8-1.9 1.4-4.1 2.2-6.4 2.2M9.3 4.4c-2.9 1-5 3.6-5.2 6.8-.4 4.4 2.8 8.3 7.2 8.7 2.1.2 4.2-.4 5.8-1.8 1.1-.9 1.9-2.1 2.4-3.4-2.5.9-5.3.5-7.5-1.1-2.8-2.2-3.9-5.9-2.7-9.2"></path></svg></div></div></div><div class="social-links menu-item_e90a6 flex-center relative"><div class="flex-center h-full gap-x-4 transition-colors duration-300 md:mr-2"><a href="https://github.com/luochunmei/lcmTestPage.github.io" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_a4ad0"><div><svg xmlns="http://www.w3.org/2000/svg" width="100%" viewBox="0 0 24 24"><path fill="currentColor" d="M12 .297c-6.63 0-12 5.373-12 12c0 5.303 3.438 9.8 8.205 11.385c.6.113.82-.258.82-.577c0-.285-.01-1.04-.015-2.04c-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729c1.205.084 1.838 1.236 1.838 1.236c1.07 1.835 2.809 1.305 3.495.998c.108-.776.417-1.305.76-1.605c-2.665-.3-5.466-1.332-5.466-5.93c0-1.31.465-2.38 1.235-3.22c-.135-.303-.54-1.523.105-3.176c0 0 1.005-.322 3.3 1.23c.96-.267 1.98-.399 3-.405c1.02.006 2.04.138 3 .405c2.28-1.552 3.285-1.23 3.285-1.23c.645 1.653.24 2.873.12 3.176c.765.84 1.23 1.91 1.23 3.22c0 4.61-2.805 5.625-5.475 5.92c.42.36.81 1.096.81 2.22c0 1.606-.015 2.896-.015 3.286c0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></div></div></a></div></div></div></div><div class="mobileNavMenu_e7045"><div class="navScreen_ec30c  rspress-nav-screen" id="navScreen"><div class="container_c935d"><div class="navMenu_b887b"><div class="navMenuItem_e7978 w-full"><a href="/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">Guide</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/cli/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">CLI</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/core/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">Core</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/tools/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">Tools</div></a></div></div><div class="flex-center flex-col gap-2"><div class="mt-2 navAppearance_bf893 flex justify-center"></div><div class="social-links menu-item_e90a6 flex-center relative"><div class="flex-center h-full gap-x-4 transition-colors duration-300 md:mr-2"><a href="https://github.com/luochunmei/lcmTestPage.github.io" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_a4ad0"><div><svg xmlns="http://www.w3.org/2000/svg" width="100%" viewBox="0 0 24 24"><path fill="currentColor" d="M12 .297c-6.63 0-12 5.373-12 12c0 5.303 3.438 9.8 8.205 11.385c.6.113.82-.258.82-.577c0-.285-.01-1.04-.015-2.04c-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729c1.205.084 1.838 1.236 1.838 1.236c1.07 1.835 2.809 1.305 3.495.998c.108-.776.417-1.305.76-1.605c-2.665-.3-5.466-1.332-5.466-5.93c0-1.31.465-2.38 1.235-3.22c-.135-.303-.54-1.523.105-3.176c0 0 1.005-.322 3.3 1.23c.96-.267 1.98-.399 3-.405c1.02.006 2.04.138 3 .405c2.28-1.552 3.285-1.23 3.285-1.23c.645 1.653.24 2.873.12 3.176c.765.84 1.23 1.91 1.23 3.22c0 4.61-2.805 5.625-5.475 5.92c.42.36.81 1.096.81 2.22c0 1.606-.015 2.896-.015 3.286c0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></div></div></a></div></div></div></div></div><button aria-label="mobile hamburger" class=" rspress-mobile-hamburger navHamburger_ac64c text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="currentColor"><circle cx="8" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="24" cy="16" r="2" fill="currentColor"></circle></svg></button></div></div></div></div><section><div class="docLayout_af141 pt-0"><aside class="sidebar_dd719 rspress-sidebar "><div class="navTitleMask_fb17c"><div class="navBarTitle_c5f07"><a href="/index.html" class="link_a7cea flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><div class="mr-1 min-w-8"><img src="/logo.jpeg" alt="logo" id="logo" class="rspress-logo"/></div></a></div></div><div class="rspress-scrollbar sidebarContent_da296"><nav class="pb-2"><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">Getting Started</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/index.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Introduction</span></div></a></div><div class="rspress-sidebar-item"><a href="/architecture.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Architecture</span></div></a></div><div class="rspress-sidebar-item"><a href="/deployment.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Deployment</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">CLI Usage</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/cli/index.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>CLI Introduction</span></div></a></div><div class="rspress-sidebar-item"><a href="/cli/commands.html" class="link_a7cea menuLink_bb039"><div class="menuItemActive_de63c mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Commands</span></div></a></div><div class="rspress-sidebar-item"><a href="/cli/configuration.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Configuration</span></div></a></div><div class="rspress-sidebar-item"><a href="/cli/authentication.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Authentication</span></div></a></div><div class="rspress-sidebar-item"><a href="/cli/themes.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Themes</span></div></a></div><div class="rspress-sidebar-item"><a href="/cli/tutorials.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Tutorials</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">Core Details</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/core/index.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Core Introduction</span></div></a></div><div class="rspress-sidebar-item"><a href="/core/tools-api.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Tools API</span></div></a></div><div class="rspress-sidebar-item"><a href="/core/memport.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Memport</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">Tools</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/tools/index.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Tools Overview</span></div></a></div><div class="rspress-sidebar-item"><a href="/tools/file-system.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>File System</span></div></a></div><div class="rspress-sidebar-item"><a href="/tools/multi-file.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Multi-File</span></div></a></div><div class="rspress-sidebar-item"><a href="/tools/shell.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Shell</span></div></a></div><div class="rspress-sidebar-item"><a href="/tools/web-fetch.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Web Fetch</span></div></a></div><div class="rspress-sidebar-item"><a href="/tools/web-search.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Web Search</span></div></a></div><div class="rspress-sidebar-item"><a href="/tools/memory.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Memory</span></div></a></div><div class="rspress-sidebar-item"><a href="/tools/mcp-server.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>MCP Server</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">Additional Resources</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/checkpointing.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Checkpointing</span></div></a></div><div class="rspress-sidebar-item"><a href="/extension.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Extension</span></div></a></div><div class="rspress-sidebar-item"><a href="/ide-integration.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>IDE Integration</span></div></a></div><div class="rspress-sidebar-item"><a href="/telemetry.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Telemetry</span></div></a></div><div class="rspress-sidebar-item"><a href="/npm.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>NPM</span></div></a></div><div class="rspress-sidebar-item"><a href="/troubleshooting.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Troubleshooting</span></div></a></div><div class="rspress-sidebar-item"><a href="/releases.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Releases</span></div></a></div></div></div></section></nav></div></aside><div class="flex-1 relative min-w-0"><div class="rspress-sidebar-menu-container "><div class="rspress-sidebar-menu"><button type="button" class="flex-center mr-auto"><div class="text-md mr-2"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M4 6h24v2H4zm0 18h24v2H4zm0-12h24v2H4zm0 6h24v2H4z"></path></svg></div><span class="text-sm">Menu</span></button><button type="button" class="flex-center ml-auto"><span class="text-sm">ON THIS PAGE</span><div class="text-md mr-2" style="transform:rotate(0deg);transition:transform 0.2s ease-out;margin-top:2px"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></button><div class="rspress-local-toc-container "><ul><li><a href="#slash-commands-" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Slash commands (<code>/</code>)</span></a></li><li><a href="#built-in-commands" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Built-in Commands</span></a></li><li><a href="#custom-commands" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Custom Commands</span></a></li><li><a href="#file-locations--precedence" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">File Locations &amp; Precedence</span></a></li><li><a href="#naming-and-namespacing" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Naming and Namespacing</span></a></li><li><a href="#toml-file-format-v1" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">TOML File Format (v1)</span></a></li><li><a href="#handling-arguments" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Handling Arguments</span></a></li><li><a href="#example-a-pure-function-refactoring-command" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Example: A &quot;Pure Function&quot; Refactoring Command</span></a></li><li><a href="#at-commands-" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">At commands (<code>@</code>)</span></a></li><li><a href="#error-handling-for--commands" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Error handling for <code>@</code> commands</span></a></li><li><a href="#shell-mode--passthrough-commands-" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Shell mode &amp; passthrough commands (<code>!</code>)</span></a></li></ul></div></div></div><div class="content_ff766 rspress-doc-container flex"><div class="flex-1 overflow-x-auto"><div class="rspress-doc"><!--$--><h1 id="cli-commands" class="rspress-doc-title text-3xl mb-10 leading-10 tracking-tight title_fb7eb">CLI Commands<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#cli-commands">#</a></h1>
<p class="my-4 leading-7">Gemini CLI supports several built-in commands to help you manage your session, customize the interface, and control its behavior. These commands are prefixed with a forward slash (<code>/</code>), an at symbol (<code>@</code>), or an exclamation mark (<code>!</code>).</p>
<h2 id="slash-commands-" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Slash commands (<code>/</code>)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#slash-commands-">#</a></h2>
<p class="my-4 leading-7">Slash commands provide meta-level control over the CLI itself.</p>
<h3 id="built-in-commands" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Built-in Commands<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#built-in-commands">#</a></h3>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/bug</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> File an issue about Gemini CLI. By default, the issue is filed within the GitHub repository for Gemini CLI. The string you enter after <code>/bug</code> will become the headline for the bug being filed. The default <code>/bug</code> behavior can be modified using the <code>advanced.bugCommand</code> setting in your <code>.gemini/settings.json</code> files.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/chat</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Save and resume conversation history for branching conversation state interactively, or resuming a previous state from a later session.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Sub-commands:</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>save</code></strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Saves the current conversation history. You must add a <code>&lt;tag&gt;</code> for identifying the conversation state.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Usage:</strong> <code>/chat save &lt;tag&gt;</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Details on Checkpoint Location:</strong> The default locations for saved chat checkpoints are:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">Linux/macOS: <code>~/.gemini/tmp/&lt;project_hash&gt;/</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">Windows: <code>C:\Users\&lt;YourUsername&gt;\.gemini\tmp\&lt;project_hash&gt;\</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">When you run <code>/chat list</code>, the CLI only scans these specific directories to find available checkpoints.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Note:</strong> These checkpoints are for manually saving and resuming conversation states. For automatic checkpoints created before file modifications, see the <a href="/checkpointing.html" class="link_a7cea  link_a9ef4 inline-link_f855c">Checkpointing documentation</a>.</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>resume</code></strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Resumes a conversation from a previous save.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Usage:</strong> <code>/chat resume &lt;tag&gt;</code></li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>list</code></strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Lists available tags for chat state resumption.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>delete</code></strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Deletes a saved conversation checkpoint.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Usage:</strong> <code>/chat delete &lt;tag&gt;</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/clear</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Clear the terminal screen, including the visible session history and scrollback within the CLI. The underlying session data (for history recall) might be preserved depending on the exact implementation, but the visual display is cleared.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Keyboard shortcut:</strong> Press <strong class="font-semibold">Ctrl+L</strong> at any time to perform a clear action.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/compress</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Replace the entire chat context with a summary. This saves on tokens used for future tasks while retaining a high level summary of what has happened.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/copy</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Copies the last output produced by Gemini CLI to your clipboard, for easy sharing or reuse.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Note:</strong> This command requires platform-specific clipboard tools to be installed.<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">On Linux, it requires <code>xclip</code> or <code>xsel</code>. You can typically install them using your system&#x27;s package manager.</li>
<li class="[&amp;:not(:first-child)]:mt-2">On macOS, it requires <code>pbcopy</code>, and on Windows, it requires <code>clip</code>. These tools are typically pre-installed on their respective systems.</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/directory</code></strong> (or <strong class="font-semibold"><code>/dir</code></strong>)</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Manage workspace directories for multi-directory support.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Sub-commands:</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>add</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Add a directory to the workspace. The path can be absolute or relative to the current working directory. Moreover, the reference from home directory is supported as well.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Usage:</strong> <code>/directory add &lt;path1&gt;,&lt;path2&gt;</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Note:</strong> Disabled in restrictive sandbox profiles. If you&#x27;re using that, use <code>--include-directories</code> when starting the session instead.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>show</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Display all directories added by <code>/directory add</code> and <code>--include-directories</code>.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Usage:</strong> <code>/directory show</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/editor</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Open a dialog for selecting supported editors.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/extensions</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Lists all active extensions in the current Gemini CLI session. See <a href="/extension.html" class="link_a7cea  link_a9ef4 inline-link_f855c">Gemini CLI Extensions</a>.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/help</code></strong> (or <strong class="font-semibold"><code>/?</code></strong>)</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Display help information about Gemini CLI, including available commands and their usage.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/mcp</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> List configured Model Context Protocol (MCP) servers, their connection status, server details, and available tools.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Sub-commands:</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>desc</code></strong> or <strong class="font-semibold"><code>descriptions</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Show detailed descriptions for MCP servers and tools.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>nodesc</code></strong> or <strong class="font-semibold"><code>nodescriptions</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Hide tool descriptions, showing only the tool names.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>schema</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Show the full JSON schema for the tool&#x27;s configured parameters.</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Keyboard Shortcut:</strong> Press <strong class="font-semibold">Ctrl+T</strong> at any time to toggle between showing and hiding tool descriptions.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/memory</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Manage the AI&#x27;s instructional context (hierarchical memory loaded from <code>GEMINI.md</code> files).</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Sub-commands:</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>add</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Adds the following text to the AI&#x27;s memory. Usage: <code>/memory add &lt;text to remember&gt;</code></li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>show</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Display the full, concatenated content of the current hierarchical memory that has been loaded from all <code>GEMINI.md</code> files. This lets you inspect the instructional context being provided to the Gemini model.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>refresh</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Reload the hierarchical instructional memory from all <code>GEMINI.md</code> files found in the configured locations (global, project/ancestors, and sub-directories). This command updates the model with the latest <code>GEMINI.md</code> content.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Note:</strong> For more details on how <code>GEMINI.md</code> files contribute to hierarchical memory, see the <a href="/cli/configuration.html#4-geminimd-files-hierarchical-instructional-context" class="link_a7cea  link_a9ef4 inline-link_f855c">CLI Configuration documentation</a>.</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/restore</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Restores the project files to the state they were in just before a tool was executed. This is particularly useful for undoing file edits made by a tool. If run without a tool call ID, it will list available checkpoints to restore from.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Usage:</strong> <code>/restore [tool_call_id]</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Note:</strong> Only available if the CLI is invoked with the <code>--checkpointing</code> option or configured via <a href="/cli/configuration.html" class="link_a7cea  link_a9ef4 inline-link_f855c">settings</a>. See <a href="/checkpointing.html" class="link_a7cea  link_a9ef4 inline-link_f855c">Checkpointing documentation</a> for more details.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/settings</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Open the settings editor to view and modify Gemini CLI settings.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Details:</strong> This command provides a user-friendly interface for changing settings that control the behavior and appearance of Gemini CLI. It is equivalent to manually editing the <code>.gemini/settings.json</code> file, but with validation and guidance to prevent errors.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Usage:</strong> Simply run <code>/settings</code> and the editor will open. You can then browse or search for specific settings, view their current values, and modify them as desired. Changes to some settings are applied immediately, while others require a restart.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/stats</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Display detailed statistics for the current Gemini CLI session, including token usage, cached token savings (when available), and session duration. Note: Cached token information is only displayed when cached tokens are being used, which occurs with API key authentication but not with OAuth authentication at this time.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><a href="/cli/themes.html" class="link_a7cea  link_a9ef4 inline-link_f855c"><strong class="font-semibold"><code>/theme</code></strong></a></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Open a dialog that lets you change the visual theme of Gemini CLI.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/auth</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Open a dialog that lets you change the authentication method.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/about</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Show version info. Please share this information when filing issues.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><a href="/tools/index.html" class="link_a7cea  link_a9ef4 inline-link_f855c"><strong class="font-semibold"><code>/tools</code></strong></a></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Display a list of tools that are currently available within Gemini CLI.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Usage:</strong> <code>/tools [desc]</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Sub-commands:</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>desc</code></strong> or <strong class="font-semibold"><code>descriptions</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Show detailed descriptions of each tool, including each tool&#x27;s name with its full description as provided to the model.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>nodesc</code></strong> or <strong class="font-semibold"><code>nodescriptions</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Hide tool descriptions, showing only the tool names.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/privacy</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Display the Privacy Notice and allow users to select whether they consent to the collection of their data for service improvement purposes.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/quit</code></strong> (or <strong class="font-semibold"><code>/exit</code></strong>)</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Exit Gemini CLI.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/vim</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Toggle vim mode on or off. When vim mode is enabled, the input area supports vim-style navigation and editing commands in both NORMAL and INSERT modes.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Features:</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">NORMAL mode:</strong> Navigate with <code>h</code>, <code>j</code>, <code>k</code>, <code>l</code>; jump by words with <code>w</code>, <code>b</code>, <code>e</code>; go to line start/end with <code>0</code>, <code>$</code>, <code>^</code>; go to specific lines with <code>G</code> (or <code>gg</code> for first line)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">INSERT mode:</strong> Standard text input with escape to return to NORMAL mode</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Editing commands:</strong> Delete with <code>x</code>, change with <code>c</code>, insert with <code>i</code>, <code>a</code>, <code>o</code>, <code>O</code>; complex operations like <code>dd</code>, <code>cc</code>, <code>dw</code>, <code>cw</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Count support:</strong> Prefix commands with numbers (e.g., <code>3h</code>, <code>5w</code>, <code>10G</code>)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Repeat last command:</strong> Use <code>.</code> to repeat the last editing operation</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Persistent setting:</strong> Vim mode preference is saved to <code>~/.gemini/settings.json</code> and restored between sessions</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Status indicator:</strong> When enabled, shows <code>[NORMAL]</code> or <code>[INSERT]</code> in the footer</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/init</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> To help users easily create a <code>GEMINI.md</code> file, this command analyzes the current directory and generates a tailored context file, making it simpler for them to provide project-specific instructions to the Gemini agent.</li>
</ul>
</li>
</ul>
<h3 id="custom-commands" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Custom Commands<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#custom-commands">#</a></h3>
<p class="my-4 leading-7">For a quick start, see the <a href="#example-a-pure-function-refactoring-command" class="link_a7cea  link_a9ef4 inline-link_f855c">example</a> below.</p>
<p class="my-4 leading-7">Custom commands allow you to save and reuse your favorite or most frequently used prompts as personal shortcuts within Gemini CLI. You can create commands that are specific to a single project or commands that are available globally across all your projects, streamlining your workflow and ensuring consistency.</p>
<h4 id="file-locations--precedence" class="mt-8 leading-6 text-lg title_fb7eb">File Locations &amp; Precedence<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#file-locations--precedence">#</a></h4>
<p class="my-4 leading-7">Gemini CLI discovers commands from two locations, loaded in a specific order:</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">User Commands (Global):</strong> Located in <code>~/.gemini/commands/</code>. These commands are available in any project you are working on.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Project Commands (Local):</strong> Located in <code>&lt;your-project-root&gt;/.gemini/commands/</code>. These commands are specific to the current project and can be checked into version control to be shared with your team.</li>
</ol>
<p class="my-4 leading-7">If a command in the project directory has the same name as a command in the user directory, the <strong class="font-semibold">project command will always be used.</strong> This allows projects to override global commands with project-specific versions.</p>
<h4 id="naming-and-namespacing" class="mt-8 leading-6 text-lg title_fb7eb">Naming and Namespacing<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#naming-and-namespacing">#</a></h4>
<p class="my-4 leading-7">The name of a command is determined by its file path relative to its <code>commands</code> directory. Subdirectories are used to create namespaced commands, with the path separator (<code>/</code> or <code>\</code>) being converted to a colon (<code>:</code>).</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">A file at <code>~/.gemini/commands/test.toml</code> becomes the command <code>/test</code>.</li>
<li class="[&amp;:not(:first-child)]:mt-2">A file at <code>&lt;project&gt;/.gemini/commands/git/commit.toml</code> becomes the namespaced command <code>/git:commit</code>.</li>
</ul>
<h4 id="toml-file-format-v1" class="mt-8 leading-6 text-lg title_fb7eb">TOML File Format (v1)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#toml-file-format-v1">#</a></h4>
<p class="my-4 leading-7">Your command definition files must be written in the TOML format and use the <code>.toml</code> file extension.</p>
<h5 id="required-fields" class="title_fb7eb">Required Fields<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#required-fields">#</a></h5>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>prompt</code> (String): The prompt that will be sent to the Gemini model when the command is executed. This can be a single-line or multi-line string.</li>
</ul>
<h5 id="optional-fields" class="title_fb7eb">Optional Fields<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#optional-fields">#</a></h5>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>description</code> (String): A brief, one-line description of what the command does. This text will be displayed next to your command in the <code>/help</code> menu. <strong class="font-semibold">If you omit this field, a generic description will be generated from the filename.</strong></li>
</ul>
<h4 id="handling-arguments" class="mt-8 leading-6 text-lg title_fb7eb">Handling Arguments<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#handling-arguments">#</a></h4>
<p class="my-4 leading-7">Custom commands support two powerful methods for handling arguments. The CLI automatically chooses the correct method based on the content of your command&#x27;s <code>prompt</code>.</p>
<h5 id="1-context-aware-injection-with-args" class="title_fb7eb">1. Context-Aware Injection with <code>{{args}}</code><a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#1-context-aware-injection-with-args">#</a></h5>
<p class="my-4 leading-7">If your <code>prompt</code> contains the special placeholder <code>{{args}}</code>, the CLI will replace that placeholder with the text the user typed after the command name.</p>
<p class="my-4 leading-7">The behavior of this injection depends on where it is used:</p>
<p class="my-4 leading-7"><strong class="font-semibold">A. Raw Injection (Outside Shell Commands)</strong></p>
<p class="my-4 leading-7">When used in the main body of the prompt, the arguments are injected exactly as the user typed them.</p>
<p class="my-4 leading-7"><strong class="font-semibold">Example (<code>git/fix.toml</code>):</strong></p>
<div class="language-toml"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-toml" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)"># Invoked via: /git:fix &quot;Button is misaligned&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">description</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;Generates a fix for a given issue.&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">prompt</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;Please provide a code fix for the issue described here: {{args}}.&quot;</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">The model receives: <code>Please provide a code fix for the issue described here: &quot;Button is misaligned&quot;.</code></p>
<p class="my-4 leading-7"><strong class="font-semibold">B. Using Arguments in Shell Commands (Inside <code>!{...}</code> Blocks)</strong></p>
<p class="my-4 leading-7">When you use <code>{{args}}</code> inside a shell injection block (<code>!{...}</code>), the arguments are automatically <strong class="font-semibold">shell-escaped</strong> before replacement. This allows you to safely pass arguments to shell commands, ensuring the resulting command is syntactically correct and secure while preventing command injection vulnerabilities.</p>
<p class="my-4 leading-7"><strong class="font-semibold">Example (<code>/grep-code.toml</code>):</strong></p>
<div class="language-toml"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-toml" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-parameter)">prompt</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;&quot;&quot;
</span></span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">Please summarize the findings for the pattern `{{args}}`.
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">Search Results:
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">!{grep -r {{args}} .}
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">&quot;&quot;&quot;</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">When you run <code>/grep-code It&#x27;s complicated</code>:</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">The CLI sees <code>{{args}}</code> used both outside and inside <code>!{...}</code>.</li>
<li class="[&amp;:not(:first-child)]:mt-2">Outside: The first <code>{{args}}</code> is replaced raw with <code>It&#x27;s complicated</code>.</li>
<li class="[&amp;:not(:first-child)]:mt-2">Inside: The second <code>{{args}}</code> is replaced with the escaped version (e.g., on Linux: <code>&quot;It&#x27;s complicated&quot;</code>).</li>
<li class="[&amp;:not(:first-child)]:mt-2">The command executed is <code>grep -r &quot;It&#x27;s complicated&quot; .</code>.</li>
<li class="[&amp;:not(:first-child)]:mt-2">The CLI prompts you to confirm this exact, secure command before execution.</li>
<li class="[&amp;:not(:first-child)]:mt-2">The final prompt is sent.</li>
</ol>
<h5 id="2-default-argument-handling" class="title_fb7eb">2. Default Argument Handling<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#2-default-argument-handling">#</a></h5>
<p class="my-4 leading-7">If your <code>prompt</code> does <strong class="font-semibold">not</strong> contain the special placeholder <code>{{args}}</code>, the CLI uses a default behavior for handling arguments.</p>
<p class="my-4 leading-7">If you provide arguments to the command (e.g., <code>/mycommand arg1</code>), the CLI will append the full command you typed to the end of the prompt, separated by two newlines. This allows the model to see both the original instructions and the specific arguments you just provided.</p>
<p class="my-4 leading-7">If you do <strong class="font-semibold">not</strong> provide any arguments (e.g., <code>/mycommand</code>), the prompt is sent to the model exactly as it is, with nothing appended.</p>
<p class="my-4 leading-7"><strong class="font-semibold">Example (<code>changelog.toml</code>):</strong></p>
<p class="my-4 leading-7">This example shows how to create a robust command by defining a role for the model, explaining where to find the user&#x27;s input, and specifying the expected format and behavior.</p>
<div class="language-toml"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-toml" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)"># In: &lt;project&gt;/.gemini/commands/changelog.toml</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># Invoked via: /changelog 1.2.0 added &quot;Support for default argument parsing.&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">description</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;Adds a new entry to the project&#x27;s CHANGELOG.md file.&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">prompt</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;&quot;&quot;
</span></span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token"># Task: Update Changelog
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">You are an expert maintainer of this software project. A user has invoked a command to add a new entry to the changelog.
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">**The user&#x27;s raw command is appended below your instructions.**
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">Your task is to parse the `&lt;version&gt;`, `&lt;change_type&gt;`, and `&lt;message&gt;` from their input and use the `write_file` tool to correctly update the `CHANGELOG.md` file.
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">## Expected Format
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">The command follows this format: `/changelog &lt;version&gt; &lt;type&gt; &lt;message&gt;`
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">- `&lt;type&gt;` must be one of: &quot;added&quot;, &quot;changed&quot;, &quot;fixed&quot;, &quot;removed&quot;.
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">## Behavior
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">1. Read the `CHANGELOG.md` file.
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">2. Find the section for the specified `&lt;version&gt;`.
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">3. Add the `&lt;message&gt;` under the correct `&lt;type&gt;` heading.
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">4. If the version or type section doesn&#x27;t exist, create it.
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">5. Adhere strictly to the &quot;Keep a Changelog&quot; format.
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">&quot;&quot;&quot;</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">When you run <code>/changelog 1.2.0 added &quot;New feature&quot;</code>, the final text sent to the model will be the original prompt followed by two newlines and the command you typed.</p>
<h5 id="3-executing-shell-commands-with-" class="title_fb7eb">3. Executing Shell Commands with <code>!{...}</code><a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#3-executing-shell-commands-with-">#</a></h5>
<p class="my-4 leading-7">You can make your commands dynamic by executing shell commands directly within your <code>prompt</code> and injecting their output. This is ideal for gathering context from your local environment, like reading file content or checking the status of Git.</p>
<p class="my-4 leading-7">When a custom command attempts to execute a shell command, Gemini CLI will now prompt you for confirmation before proceeding. This is a security measure to ensure that only intended commands can be run.</p>
<p class="my-4 leading-7"><strong class="font-semibold">How It Works:</strong></p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Inject Commands:</strong> Use the <code>!{...}</code> syntax.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Argument Substitution:</strong> If <code>{{args}}</code> is present inside the block, it is automatically shell-escaped (see <a href="#1-context-aware-injection-with-args" class="link_a7cea  link_a9ef4 inline-link_f855c">Context-Aware Injection</a> above).</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Robust Parsing:</strong> The parser correctly handles complex shell commands that include nested braces, such as JSON payloads. <strong class="font-semibold">Note:</strong> The content inside <code>!{...}</code> must have balanced braces (<code>{</code> and <code>}</code>). If you need to execute a command containing unbalanced braces, consider wrapping it in an external script file and calling the script within the <code>!{...}</code> block.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Security Check and Confirmation:</strong> The CLI performs a security check on the final, resolved command (after arguments are escaped and substituted). A dialog will appear showing the exact command(s) to be executed.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Execution and Error Reporting:</strong> The command is executed. If the command fails, the output injected into the prompt will include the error messages (stderr) followed by a status line, e.g., <code>[Shell command exited with code 1]</code>. This helps the model understand the context of the failure.</li>
</ol>
<p class="my-4 leading-7"><strong class="font-semibold">Example (<code>git/commit.toml</code>):</strong></p>
<p class="my-4 leading-7">This command gets the staged git diff and uses it to ask the model to write a commit message.</p>
<div class="language-toml"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-toml" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)"># In: &lt;project&gt;/.gemini/commands/git/commit.toml</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># Invoked via: /git:commit</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">description</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;Generates a Git commit message based on staged changes.&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># The prompt uses !{...} to execute the command and inject its output.</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">prompt</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;&quot;&quot;
</span></span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">Please generate a Conventional Commit message based on the following git diff:
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">```diff
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">!{git diff --staged}
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">```
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">&quot;&quot;&quot;</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">When you run <code>/git:commit</code>, the CLI first executes <code>git diff --staged</code>, then replaces <code>!{git diff --staged}</code> with the output of that command before sending the final, complete prompt to the model.</p>
<h5 id="4-injecting-file-content-with-" class="title_fb7eb">4. Injecting File Content with <code>@{...}</code><a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#4-injecting-file-content-with-">#</a></h5>
<p class="my-4 leading-7">You can directly embed the content of a file or a directory listing into your prompt using the <code>@{...}</code> syntax. This is useful for creating commands that operate on specific files.</p>
<p class="my-4 leading-7"><strong class="font-semibold">How It Works:</strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">File Injection</strong>: <code>@{path/to/file.txt}</code> is replaced by the content of <code>file.txt</code>.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Multimodal Support</strong>: If the path points to a supported image (e.g., PNG, JPEG), PDF, audio, or video file, it will be correctly encoded and injected as multimodal input. Other binary files are handled gracefully and skipped.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Directory Listing</strong>: <code>@{path/to/dir}</code> is traversed and each file present within the directory and all subdirectories are inserted into the prompt. This respects <code>.gitignore</code> and <code>.geminiignore</code> if enabled.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Workspace-Aware</strong>: The command searches for the path in the current directory and any other workspace directories. Absolute paths are allowed if they are within the workspace.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Processing Order</strong>: File content injection with <code>@{...}</code> is processed <em>before</em> shell commands (<code>!{...}</code>) and argument substitution (<code>{{args}}</code>).</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Parsing</strong>: The parser requires the content inside <code>@{...}</code> (the path) to have balanced braces (<code>{</code> and <code>}</code>).</li>
</ul>
<p class="my-4 leading-7"><strong class="font-semibold">Example (<code>review.toml</code>):</strong></p>
<p class="my-4 leading-7">This command injects the content of a <em>fixed</em> best practices file (<code>docs/best-practices.md</code>) and uses the user&#x27;s arguments to provide context for the review.</p>
<div class="language-toml"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-toml" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)"># In: &lt;project&gt;/.gemini/commands/review.toml</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># Invoked via: /review FileCommandLoader.ts</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">description</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;Reviews the provided context using a best practice guide.&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">prompt</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;&quot;&quot;
</span></span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">You are an expert code reviewer.
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">Your task is to review {{args}}.
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">Use the following best practices when providing your review:
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">@{docs/best-practices.md}
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">&quot;&quot;&quot;</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">When you run <code>/review FileCommandLoader.ts</code>, the <code>@{docs/best-practices.md}</code> placeholder is replaced by the content of that file, and <code>{{args}}</code> is replaced by the text you provided, before the final prompt is sent to the model.</p>
<hr class="my-12 border-t border-solid border-divider-light"/>
<h4 id="example-a-pure-function-refactoring-command" class="mt-8 leading-6 text-lg title_fb7eb">Example: A &quot;Pure Function&quot; Refactoring Command<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#example-a-pure-function-refactoring-command">#</a></h4>
<p class="my-4 leading-7">Let&#x27;s create a global command that asks the model to refactor a piece of code.</p>
<p class="my-4 leading-7"><strong class="font-semibold">1. Create the file and directories:</strong></p>
<p class="my-4 leading-7">First, ensure the user commands directory exists, then create a <code>refactor</code> subdirectory for organization and the final TOML file.</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-function)">mkdir</span><span> -p ~/.gemini/commands/refactor
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-function)">touch</span><span> ~/.gemini/commands/refactor/pure.toml</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">2. Add the content to the file:</strong></p>
<p class="my-4 leading-7">Open <code>~/.gemini/commands/refactor/pure.toml</code> in your editor and add the following content. We are including the optional <code>description</code> for best practice.</p>
<div class="language-toml"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-toml" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)"># In: ~/.gemini/commands/refactor/pure.toml</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># This command will be invoked via: /refactor:pure</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">description</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;Asks the model to refactor the current context into a pure function.&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">prompt</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;&quot;&quot;
</span></span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">Please analyze the code I&#x27;ve provided in the current context.
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">Refactor it into a pure function.
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">Your response should include:
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">1. The refactored, pure function code block.
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">2. A brief explanation of the key changes you made and why they contribute to purity.
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">&quot;&quot;&quot;</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">3. Run the Command:</strong></p>
<p class="my-4 leading-7">That&#x27;s it! You can now run your command in the CLI. First, you might add a file to the context, and then invoke your command:</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>&gt; @my-messy-function.js
&gt; /refactor:pure
</code></div></div>
<p class="my-4 leading-7">Gemini CLI will then execute the multi-line prompt defined in your TOML file.</p>
<h2 id="at-commands-" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">At commands (<code>@</code>)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#at-commands-">#</a></h2>
<p class="my-4 leading-7">At commands are used to include the content of files or directories as part of your prompt to Gemini. These commands include git-aware filtering.</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>@&lt;path_to_file_or_directory&gt;</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Inject the content of the specified file or files into your current prompt. This is useful for asking questions about specific code, text, or collections of files.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Examples:</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>@path/to/your/file.txt Explain this text.</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>@src/my_project/ Summarize the code in this directory.</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>What is this file about? @README.md</code></li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Details:</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">If a path to a single file is provided, the content of that file is read.</li>
<li class="[&amp;:not(:first-child)]:mt-2">If a path to a directory is provided, the command attempts to read the content of files within that directory and any subdirectories.</li>
<li class="[&amp;:not(:first-child)]:mt-2">Spaces in paths should be escaped with a backslash (e.g., <code>@My\ Documents/file.txt</code>).</li>
<li class="[&amp;:not(:first-child)]:mt-2">The command uses the <code>read_many_files</code> tool internally. The content is fetched and then inserted into your query before being sent to the Gemini model.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Git-aware filtering:</strong> By default, git-ignored files (like <code>node_modules/</code>, <code>dist/</code>, <code>.env</code>, <code>.git/</code>) are excluded. This behavior can be changed via the <code>context.fileFiltering</code> settings.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">File types:</strong> The command is intended for text-based files. While it might attempt to read any file, binary files or very large files might be skipped or truncated by the underlying <code>read_many_files</code> tool to ensure performance and relevance. The tool indicates if files were skipped.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Output:</strong> The CLI will show a tool call message indicating that <code>read_many_files</code> was used, along with a message detailing the status and the path(s) that were processed.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>@</code> (Lone at symbol)</strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> If you type a lone <code>@</code> symbol without a path, the query is passed as-is to the Gemini model. This might be useful if you are specifically talking <em>about</em> the <code>@</code> symbol in your prompt.</li>
</ul>
</li>
</ul>
<h3 id="error-handling-for--commands" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Error handling for <code>@</code> commands<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#error-handling-for--commands">#</a></h3>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">If the path specified after <code>@</code> is not found or is invalid, an error message will be displayed, and the query might not be sent to the Gemini model, or it will be sent without the file content.</li>
<li class="[&amp;:not(:first-child)]:mt-2">If the <code>read_many_files</code> tool encounters an error (e.g., permission issues), this will also be reported.</li>
</ul>
<h2 id="shell-mode--passthrough-commands-" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Shell mode &amp; passthrough commands (<code>!</code>)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#shell-mode--passthrough-commands-">#</a></h2>
<p class="my-4 leading-7">The <code>!</code> prefix lets you interact with your system&#x27;s shell directly from within Gemini CLI.</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>!&lt;shell_command&gt;</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Execute the given <code>&lt;shell_command&gt;</code> using <code>bash</code> on Linux/macOS or <code>cmd.exe</code> on Windows. Any output or errors from the command are displayed in the terminal.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Examples:</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>!ls -la</code> (executes <code>ls -la</code> and returns to Gemini CLI)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>!git status</code> (executes <code>git status</code> and returns to Gemini CLI)</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>!</code> (Toggle shell mode)</strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Description:</strong> Typing <code>!</code> on its own toggles shell mode.<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Entering shell mode:</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">When active, shell mode uses a different coloring and a &quot;Shell Mode Indicator&quot;.</li>
<li class="[&amp;:not(:first-child)]:mt-2">While in shell mode, text you type is interpreted directly as a shell command.</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Exiting shell mode:</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">When exited, the UI reverts to its standard appearance and normal Gemini CLI behavior resumes.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold">Caution for all <code>!</code> usage:</strong> Commands you execute in shell mode have the same permissions and impact as if you ran them directly in your terminal.</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold">Environment Variable:</strong> When a command is executed via <code>!</code> or in shell mode, the <code>GEMINI_CLI=1</code> environment variable is set in the subprocess&#x27;s environment. This allows scripts or tools to detect if they are being run from within the Gemini CLI.</p>
</li>
</ul><!--/$--></div><div class="rspress-doc-footer"><footer class="mt-8"><div class="xs:flex pb-5 px-2 justify-end items-center"></div><div class="flex flex-col"></div><div class="flex flex-col sm:flex-row sm:justify-around gap-4 pt-6"><div class="prev_c92d1 flex flex-col"><a href="/cli/index.html" class="link_a7cea pager-link_e0d2d"><span class="desc_dcc01">Previous Page</span><span class="title_a3acb">CLI Introduction</span></a></div><div class="next_c11be flex flex-col"><a href="/cli/configuration.html" class="link_a7cea pager-link_e0d2d next_ad355"><span class="desc_dcc01">Next Page</span><span class="title_a3acb">Configuration</span></a></div></div></footer></div></div><div class="aside-container_bc5fa"><div class="flex flex-col"><div id="aside-container" class="relative text-sm font-medium"><div class="leading-7 block text-sm font-semibold pl-3">ON THIS PAGE</div><nav class="mt-1"><ul class="relative"><li><a href="#slash-commands-" title="Slash commands (/)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Slash commands (<code>/</code>)</span></a></li><li><a href="#built-in-commands" title="Built-in Commands" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Built-in Commands</span></a></li><li><a href="#custom-commands" title="Custom Commands" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Custom Commands</span></a></li><li><a href="#file-locations--precedence" title="File Locations &amp; Precedence" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">File Locations &amp; Precedence</span></a></li><li><a href="#naming-and-namespacing" title="Naming and Namespacing" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Naming and Namespacing</span></a></li><li><a href="#toml-file-format-v1" title="TOML File Format (v1)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">TOML File Format (v1)</span></a></li><li><a href="#handling-arguments" title="Handling Arguments" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Handling Arguments</span></a></li><li><a href="#example-a-pure-function-refactoring-command" title="Example: A &quot;Pure Function&quot; Refactoring Command" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Example: A &quot;Pure Function&quot; Refactoring Command</span></a></li><li><a href="#at-commands-" title="At commands (@)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">At commands (<code>@</code>)</span></a></li><li><a href="#error-handling-for--commands" title="Error handling for @ commands" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Error handling for <code>@</code> commands</span></a></li><li><a href="#shell-mode--passthrough-commands-" title="Shell mode &amp; passthrough commands (!)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Shell mode &amp; passthrough commands (<code>!</code>)</span></a></li></ul></nav></div></div></div></div></div></div></section></div>
    <div id="search-container"></div>
  </body>
</html>
