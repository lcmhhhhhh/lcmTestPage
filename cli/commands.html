<!doctype html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Rspress v1.45.3">
    <title data-rh="true">CLI 命令 - VeCLI</title><meta data-rh="true" name="description" content="VeCLI - 火山引擎AI命令行工具文档"/>
  <script>{;const saved = localStorage.getItem('rspress-theme-appearance');const preferDark = window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = !saved || saved === 'auto' ? preferDark : saved === 'dark';document.documentElement.classList.toggle('dark', isDark);document.documentElement.style.colorScheme = isDark ? 'dark' : 'light';}</script><script defer src="/static/js/styles.85a0ab23.js"></script><script defer src="/static/js/lib-react.f6e61177.js"></script><script defer src="/static/js/lib-router.d48d8961.js"></script><script defer src="/static/js/7162.1e645fee.js"></script><script defer src="/static/js/index.ee426c5b.js"></script><link href="/static/css/styles.e45a8283.css" rel="stylesheet"></head>

  <body >
    <div id="root"><div class="navContainer_d18b1 rspress-nav px-6  sticky_ddfa7"><div class="container_e4235 flex justify-between items-center h-full"><div class="navBarTitle_c5f07"><a href="/index" class="link_a7cea flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><div class="mr-1 min-w-8"><img src="/logo.jpeg" alt="logo" id="logo" class="rspress-logo"/></div><span>VeCLI</span></a></div><div class="flex flex-1 justify-end items-center"><div class="rightNav_a2fea"><div class="flex sm:flex-1 items-center sm:pl-4 sm:pr-2"><div class="rspress-nav-search-button navSearchButton_df1fb"><button><svg width="18" height="18" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9"></path></svg><p class="searchWord_af2c1">Search Docs</p><div style="opacity:0"><span></span><span>K</span></div></button></div><div class="mobileNavSearchButton_d85a9"><svg width="24" height="24" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9"></path></svg></div></div><div class="rspress-nav-menu menu h-14"><a href="/introduction" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">介绍</div></a><a href="/cli/index" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154 activeItem_a28b5 text-sm font-medium mx-1.5 px-3 py-2 flex items-center">CLI</div></a><a href="/core/index" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">核心</div></a><a href="/tools/index" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">工具</div></a></div><div class="flex-center flex-row"><div class="translation menu-item_b8238 flex text-sm font-bold items-center px-3 py-2"><div><div class="relative flex-center h-14"><button class="rspress-nav-menu-group-button flex-center items-center font-medium text-sm text-text-1 hover:text-text-2 transition-colors duration-200"><span class="text-sm font-medium flex" style="margin-right:2px"><svg width="18" height="18" viewBox="0 0 32 32" style="width:18px;height:18px"><path fill="currentColor" d="M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6 2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.7 14.7 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.5 16.5 0 0 0 3 5.58A16.8 16.8 0 0 1 3 18l.75 1.86A18.5 18.5 0 0 0 9.53 16a16.9 16.9 0 0 0 5.76 3.84L16 18a14.5 14.5 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z"></path></svg></span><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></button><div class="rspress-nav-menu-group-content absolute mx-0.8 transition-opacity duration-300" style="opacity:0;visibility:hidden;right:0;top:52px"><div class="p-3 pr-2 w-full h-full max-h-100vh whitespace-nowrap" style="box-shadow:var(--rp-shadow-3);z-index:100;border:1px solid var(--rp-c-divider-light);border-radius:var(--rp-radius-large);background:var(--rp-c-bg)"><div><div class="font-medium my-1"><a href="/en/cli/commands" class="link_a7cea "><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>English</span></div></div></a></div></div><div><div class="rounded-2xl my-1 flex" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><span class="text-brand">简体中文</span></div></div></div></div></div></div></div><div class="mx-2"><div class="md:mr-2 rspress-nav-appearance"><div class="p-1 border border-solid border-gray-300 text-gray-400  cursor-pointer rounded-md hover:border-gray-600 hover:text-gray-600 dark:hover:border-gray-200 dark:hover:text-gray-200 transition-all duration-300 w-7 h-7"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="dark:hidden" width="18" height="18" fill="currentColor"><path d="M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6m0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4M12 4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1M12 24c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1M5.6 6.6c-.3 0-.5-.1-.7-.3L3.5 4.9c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.1.2-.4.3-.7.3M19.8 20.8c-.3 0-.5-.1-.7-.3l-1.4-1.4c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.2.2-.5.3-.7.3M3 13H1c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1M23 13h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1M4.2 20.8c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.4.3-.7.3M18.4 6.6c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.5.3-.7.3"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="hidden dark:block" width="18" height="18" fill="currentColor"><path d="M12.1 22h-.9c-5.5-.5-9.5-5.4-9-10.9.4-4.8 4.2-8.6 9-9 .4 0 .8.2 1 .5s.2.8-.1 1.1c-2 2.7-1.4 6.4 1.3 8.4 2.1 1.6 5 1.6 7.1 0 .3-.2.7-.3 1.1-.1.3.2.5.6.5 1-.2 2.7-1.5 5.1-3.6 6.8-1.9 1.4-4.1 2.2-6.4 2.2M9.3 4.4c-2.9 1-5 3.6-5.2 6.8-.4 4.4 2.8 8.3 7.2 8.7 2.1.2 4.2-.4 5.8-1.8 1.1-.9 1.9-2.1 2.4-3.4-2.5.9-5.3.5-7.5-1.1-2.8-2.2-3.9-5.9-2.7-9.2"></path></svg></div></div></div></div></div><div class="mobileNavMenu_e7045"><div class="navScreen_ec30c  rspress-nav-screen" id="navScreen"><div class="container_c935d"><div class="navMenu_b887b"><div class="navMenuItem_e7978 w-full"><a href="/introduction" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">介绍</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/cli/index" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154 activeItem_a28b5 text-sm font-medium mx-1.5 px-3 py-2 flex items-center">CLI</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/core/index" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">核心</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/tools/index" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">工具</div></a></div></div><div class="flex-center flex-col gap-2"><div class="mt-2 navAppearance_bf893 flex justify-center"></div><div class="flex text-sm font-bold justify-center"><div class="mx-1.5 my-1"><div class=" navScreenMenuGroup_e771d relative"><button class="button_ea41e"><span class="buttonSpan_f4b8f"><svg width="18" height="18" viewBox="0 0 32 32" style="width:18px;height:18px"><path fill="currentColor" d="M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6 2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.7 14.7 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.5 16.5 0 0 0 3 5.58A16.8 16.8 0 0 1 3 18l.75 1.86A18.5 18.5 0 0 0 9.53 16a16.9 16.9 0 0 0 5.76 3.84L16 18a14.5 14.5 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z"></path></svg></span><svg width="1em" height="1em" viewBox="0 0 32 32" class=" down_f631a "><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></button><div><div class="items_dd149"><div><div class="py-1 font-medium"><a href="/en/cli/commands" class="link_a7cea "><div><div class="flex justify-center"><span>English</span></div></div></a></div></div><div><div class="p-1 text-center"><span class="text-brand">简体中文</span></div></div></div></div></div></div></div></div></div></div><button aria-label="mobile hamburger" class=" rspress-mobile-hamburger navHamburger_ac64c text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="currentColor"><circle cx="8" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="24" cy="16" r="2" fill="currentColor"></circle></svg></button></div></div></div></div><section><div class="docLayout_af141 pt-0"><aside class="sidebar_dd719 rspress-sidebar "><div class="navTitleMask_fb17c"><div class="navBarTitle_c5f07"><a href="/index" class="link_a7cea flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><div class="mr-1 min-w-8"><img src="/logo.jpeg" alt="logo" id="logo" class="rspress-logo"/></div><span>VeCLI</span></a></div></div><div class="rspress-scrollbar sidebarContent_da296"><nav class="pb-2"><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">快速开始</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/introduction" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>介绍</span></div></a></div><div class="rspress-sidebar-item"><a href="/deployment" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>部署</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">CLI 使用</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/cli/index" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>CLI 介绍</span></div></a></div><div class="rspress-sidebar-item"><a href="/cli/commands" class="link_a7cea menuLink_bb039"><div class="menuItemActive_de63c mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>命令</span></div></a></div><div class="rspress-sidebar-item"><a href="/cli/configuration" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>配置</span></div></a></div><div class="rspress-sidebar-item"><a href="/cli/authentication" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>认证</span></div></a></div><div class="rspress-sidebar-item"><a href="/cli/themes" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>主题</span></div></a></div><div class="rspress-sidebar-item"><a href="/cli/tutorials" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>教程</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">核心详情</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/core/index" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>核心介绍</span></div></a></div><div class="rspress-sidebar-item"><a href="/core/tools-api" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>工具 API</span></div></a></div><div class="rspress-sidebar-item"><a href="/core/memport" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Memport</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">工具</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/tools/index" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>工具概览</span></div></a></div><div class="rspress-sidebar-item"><a href="/tools/file-system" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>文件系统</span></div></a></div><div class="rspress-sidebar-item"><a href="/tools/multi-file" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>多文件</span></div></a></div><div class="rspress-sidebar-item"><a href="/tools/shell" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Shell</span></div></a></div><div class="rspress-sidebar-item"><a href="/tools/web-fetch" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Web 抓取</span></div></a></div><div class="rspress-sidebar-item"><a href="/tools/memory" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>内存</span></div></a></div><div class="rspress-sidebar-item"><a href="/tools/mcp-server" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>MCP 服务器</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">其他资源</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/checkpointing" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>检查点</span></div></a></div><div class="rspress-sidebar-item"><a href="/ide-integration" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>IDE 集成</span></div></a></div><div class="rspress-sidebar-item"><a href="/telemetry" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>遥测</span></div></a></div><div class="rspress-sidebar-item"><a href="/npm" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>NPM</span></div></a></div><div class="rspress-sidebar-item"><a href="/troubleshooting" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>故障排除</span></div></a></div><div class="rspress-sidebar-item"><a href="/releases" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>发布</span></div></a></div></div></div></section></nav></div></aside><div class="flex-1 relative min-w-0"><div class="rspress-sidebar-menu-container "><div class="rspress-sidebar-menu"><button type="button" class="flex-center mr-auto"><div class="text-md mr-2"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M4 6h24v2H4zm0 18h24v2H4zm0-12h24v2H4zm0 6h24v2H4z"></path></svg></div><span class="text-sm">Menu</span></button><button type="button" class="flex-center ml-auto"><span class="text-sm">ON THIS PAGE</span><div class="text-md mr-2" style="transform:rotate(0deg);transition:transform 0.2s ease-out;margin-top:2px"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></button><div class="rspress-local-toc-container "><ul><li><a href="#斜杠命令-" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">斜杠命令 (<code>/</code>)</span></a></li><li><a href="#内置命令" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">内置命令</span></a></li><li><a href="#自定义命令" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">自定义命令</span></a></li><li><a href="#文件位置和优先级" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">文件位置和优先级</span></a></li><li><a href="#命名和命名空间" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">命名和命名空间</span></a></li><li><a href="#toml-文件格式-v1" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">TOML 文件格式 (v1)</span></a></li><li><a href="#处理参数" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">处理参数</span></a></li><li><a href="#示例-纯函数-重构命令" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">示例: &quot;纯函数&quot; 重构命令</span></a></li><li><a href="#at-命令-" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">At 命令 (<code>@</code>)</span></a></li><li><a href="#-命令的错误处理" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block"><code>@</code> 命令的错误处理</span></a></li><li><a href="#shell-模式和直通命令-" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Shell 模式和直通命令 (<code>!</code>)</span></a></li></ul></div></div></div><div class="content_ff766 rspress-doc-container flex"><div class="flex-1 overflow-x-auto"><div class="rspress-doc"><!--$--><h1 id="cli-命令" class="rspress-doc-title text-3xl mb-10 leading-10 tracking-tight title_fb7eb">CLI 命令<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#cli-命令">#</a></h1>
<p class="my-4 leading-7">VeCLI 支持几个内置命令，以帮助您管理会话、自定义界面和控制其行为。这些命令以正斜杠 (<code>/</code>)、at 符号 (<code>@</code>) 或感叹号 (<code>!</code>) 为前缀。</p>
<h2 id="斜杠命令-" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">斜杠命令 (<code>/</code>)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#斜杠命令-">#</a></h2>
<p class="my-4 leading-7">斜杠命令提供对 CLI 本身的元级控制。</p>
<h3 id="内置命令" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">内置命令<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#内置命令">#</a></h3>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/bug</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 提交关于 VeCLI 的问题。默认情况下，问题在 VeCLI 的 GitHub 存储库内提交。您在 <code>/bug</code> 之后输入的字符串将成为提交的错误的标题。可以使用 <code>.ve/settings.json</code> 文件中的 <code>advanced.bugCommand</code> 设置修改默认的 <code>/bug</code> 行为。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/chat</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 交互式地保存和恢复对话历史，以实现分支对话状态，或从后续会话中恢复先前的状态。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">子命令：</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>save</code></strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 保存当前对话历史。您必须添加一个 <code>&lt;tag&gt;</code> 来标识对话状态。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">用法：</strong> <code>/chat save &lt;tag&gt;</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">关于检查点位置的详细信息：</strong> 保存的聊天检查点的默认位置是：<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">Linux/macOS: <code>~/.ve/tmp/&lt;project_hash&gt;/</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">Windows: <code>C:\Users\&lt;YourUsername&gt;\.ve\tmp\&lt;project_hash&gt;\</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">当您运行 <code>/chat list</code> 时，CLI 只会扫描这些特定目录以查找可用的检查点。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">注意：</strong> 这些检查点用于手动保存和恢复对话状态。有关在文件修改之前创建的自动检查点，请参阅 <a href="/checkpointing" class="link_a7cea  link_a9ef4 inline-link_f855c">检查点文档</a>。</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>resume</code></strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 从先前的保存中恢复对话。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">用法：</strong> <code>/chat resume &lt;tag&gt;</code></li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>list</code></strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 列出可用于恢复聊天状态的标签。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>delete</code></strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 删除保存的对话检查点。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">用法：</strong> <code>/chat delete &lt;tag&gt;</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/clear</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 清除终端屏幕，包括 CLI 中可见的会话历史和回滚。根据确切的实现，底层会话数据（用于历史回忆）可能会被保留，但视觉显示会被清除。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">键盘快捷键：</strong> 随时按 <strong class="font-semibold">Ctrl+L</strong> 执行清除操作。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/compress</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 用摘要替换整个聊天上下文。这可以节省用于未来任务的令牌，同时保留已发生事件的高级摘要。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/copy</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 将 VeCLI 生成的最后一个输出复制到您的剪贴板，以便轻松共享或重用。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">注意：</strong> 此命令需要安装特定于平台的剪贴板工具。<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">在 Linux 上，它需要 <code>xclip</code> 或 <code>xsel</code>。您通常可以使用系统的包管理器安装它们。</li>
<li class="[&amp;:not(:first-child)]:mt-2">在 macOS 上，它需要 <code>pbcopy</code>，在 Windows 上，它需要 <code>clip</code>。这些工具通常在其各自的系统上预安装。</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/directory</code></strong> (或 <strong class="font-semibold"><code>/dir</code></strong>)</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 管理工作区目录以支持多目录。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">子命令：</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>add</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 将目录添加到工作区。路径可以是绝对路径或相对于当前工作目录的路径。此外，还支持从主目录引用。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">用法：</strong> <code>/directory add &lt;path1&gt;,&lt;path2&gt;</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">注意：</strong> 在限制性沙盒配置文件中禁用。如果您正在使用该配置文件，请在启动会话时改用 <code>--include-directories</code>。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>show</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 显示由 <code>/directory add</code> 和 <code>--include-directories</code> 添加的所有目录。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">用法：</strong> <code>/directory show</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/editor</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 打开一个对话框以选择支持的编辑器。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/extensions</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 列出当前 VeCLI 会话中的所有活动扩展。请参阅 <a href="/extension" class="link_a7cea  link_a9ef4 inline-link_f855c">VeCLI 扩展</a>。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/help</code></strong> (或 <strong class="font-semibold"><code>/?</code></strong>)</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 显示有关 VeCLI 的帮助信息，包括可用命令及其用法。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/mcp</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 列出配置的模型上下文协议 (MCP) 服务器、其连接状态、服务器详细信息和可用工具。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">子命令：</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>desc</code></strong> 或 <strong class="font-semibold"><code>descriptions</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 显示 MCP 服务器和工具的详细描述。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>nodesc</code></strong> 或 <strong class="font-semibold"><code>nodescriptions</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 隐藏工具描述，仅显示工具名称。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>schema</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 显示工具配置参数的完整 JSON 模式。</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">键盘快捷键：</strong> 随时按 <strong class="font-semibold">Ctrl+T</strong> 在显示和隐藏工具描述之间切换。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/memory</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 管理 AI 的指令上下文（从 <code>VE.md</code> 文件加载的分层内存）。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">子命令：</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>add</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 将以下文本添加到 AI 的内存中。用法: <code>/memory add &lt;要记住的文本&gt;</code></li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>show</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 显示从所有 <code>VE.md</code> 文件加载的当前分层内存的完整连接内容。这使您可以检查提供给火山引擎模型的指令上下文。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>refresh</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 从配置位置（全局、项目/祖先和子目录）找到的所有 <code>VE.md</code> 文件中重新加载分层指令内存。此命令使用最新的 <code>VE.md</code> 内容更新模型。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">注意：</strong> 有关 <code>VE.md</code> 文件如何贡献于分层内存的更多详细信息，请参阅 <a href="/cli/configuration#4-ve-files-hierarchical-instructional-context" class="link_a7cea  link_a9ef4 inline-link_f855c">CLI 配置文档</a>。</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/restore</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 将项目文件恢复到执行工具之前的状态。这对于撤销工具进行的文件编辑特别有用。如果在没有工具调用 ID 的情况下运行，它将列出可用于恢复的检查点。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">用法：</strong> <code>/restore [tool_call_id]</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">注意：</strong> 仅在使用 <code>--checkpointing</code> 选项调用 CLI 或通过 <a href="/cli/configuration" class="link_a7cea  link_a9ef4 inline-link_f855c">设置</a> 配置时可用。有关更多详细信息，请参阅 <a href="/checkpointing" class="link_a7cea  link_a9ef4 inline-link_f855c">检查点文档</a>。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/settings</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 打开设置编辑器以查看和修改 VeCLI 设置。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">详细信息：</strong> 此命令提供了一个用户友好的界面，用于更改控制 VeCLI 行为和外观的设置。它等效于手动编辑 <code>.ve/settings.json</code> 文件，但具有验证和指导以防止错误。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">用法：</strong> 只需运行 <code>/settings</code>，编辑器就会打开。然后您可以浏览或搜索特定设置，查看其当前值，并根据需要进行修改。某些设置的更改会立即应用，而其他设置则需要重新启动。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/stats</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 显示当前 VeCLI 会话的详细统计信息，包括令牌使用量、缓存令牌节省（如果可用）和会话持续时间。注意：仅在使用缓存令牌时才显示缓存令牌信息，这在使用 API 密钥身份验证时会发生，但目前在使用 OAuth 身份验证时不会发生。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><a href="/cli/themes" class="link_a7cea  link_a9ef4 inline-link_f855c"><strong class="font-semibold"><code>/theme</code></strong></a></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 打开一个对话框，让您可以更改 VeCLI 的视觉主题。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/auth</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 打开一个对话框，让您可以更改身份验证方法。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/about</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 显示版本信息。请在提交问题时分享此信息。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><a href="/tools/index" class="link_a7cea  link_a9ef4 inline-link_f855c"><strong class="font-semibold"><code>/tools</code></strong></a></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 显示当前在 VeCLI 中可用的工具列表。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">用法：</strong> <code>/tools [desc]</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">子命令：</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>desc</code></strong> 或 <strong class="font-semibold"><code>descriptions</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 显示每个工具的详细描述，包括每个工具的名称及其提供给模型的完整描述。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>nodesc</code></strong> 或 <strong class="font-semibold"><code>nodescriptions</code></strong>:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 隐藏工具描述，仅显示工具名称。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/privacy</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 显示隐私声明并允许用户选择是否同意为服务改进目的收集其数据。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/quit</code></strong> (或 <strong class="font-semibold"><code>/exit</code></strong>)</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 退出 VeCLI。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/vim</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 打开或关闭 vim 模式。启用 vim 模式时，输入区域支持 NORMAL 和 INSERT 模式下的 vim 风格导航和编辑命令。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">功能：</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">NORMAL 模式：</strong> 使用 <code>h</code>、<code>j</code>、<code>k</code>、<code>l</code> 导航；使用 <code>w</code>、<code>b</code>、<code>e</code> 按单词跳转；使用 <code>0</code>、<code>$</code>、<code>^</code> 转到行首/行尾；使用 <code>G</code>（或 <code>gg</code> 转到第一行）转到特定行</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">INSERT 模式：</strong> 标准文本输入，按 escape 返回 NORMAL 模式</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">编辑命令：</strong> 使用 <code>x</code> 删除，使用 <code>c</code> 更改，使用 <code>i</code>、<code>a</code>、<code>o</code>、<code>O</code> 插入；复杂的操作如 <code>dd</code>、<code>cc</code>、<code>dw</code>、<code>cw</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">计数支持：</strong> 用数字作为前缀命令（例如，<code>3h</code>、<code>5w</code>、<code>10G</code>）</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">重复最后命令：</strong> 使用 <code>.</code> 重复最后的编辑操作</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">持久设置：</strong> Vim 模式偏好设置保存到 <code>~/.ve/settings.json</code> 并在会话之间恢复</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">状态指示器：</strong> 启用时，在页脚中显示 <code>[NORMAL]</code> 或 <code>[INSERT]</code></li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>/init</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 为了帮助用户轻松创建 <code>VE.md</code> 文件，此命令分析当前目录并生成一个量身定制的上下文文件，使他们更容易向火山引擎代理提供项目特定的指令。</li>
</ul>
</li>
</ul>
<h3 id="自定义命令" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">自定义命令<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#自定义命令">#</a></h3>
<p class="my-4 leading-7">有关快速入门，请参阅下面的 <a href="#example-a-pure-function-refactoring-command" class="link_a7cea  link_a9ef4 inline-link_f855c">示例</a>。</p>
<p class="my-4 leading-7">自定义命令允许您将最喜欢或最常用的提示保存为 VeCLI 中的个人快捷方式。您可以创建特定于单个项目或在所有项目中全局可用的命令，从而简化您的工作流程并确保一致性。</p>
<h4 id="文件位置和优先级" class="mt-8 leading-6 text-lg title_fb7eb">文件位置和优先级<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#文件位置和优先级">#</a></h4>
<p class="my-4 leading-7">VeCLI 从两个位置发现命令，按特定顺序加载：</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">用户命令 (全局):</strong> 位于 <code>~/.ve/commands/</code>。这些命令在您处理的任何项目中都可用。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">项目命令 (本地):</strong> 位于 <code>~/.ve/commands/</code>。这些命令特定于当前项目，可以签入版本控制以与您的团队共享。</li>
</ol>
<p class="my-4 leading-7">如果项目目录中的命令与用户目录中的命令同名，则<strong class="font-semibold">始终使用项目命令。</strong> 这允许项目用特定于项目的版本覆盖全局命令。</p>
<h4 id="命名和命名空间" class="mt-8 leading-6 text-lg title_fb7eb">命名和命名空间<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#命名和命名空间">#</a></h4>
<p class="my-4 leading-7">命令的名称由其相对于其 <code>commands</code> 目录的文件路径确定。子目录用于创建命名空间命令，路径分隔符 (<code>/</code> 或 <code>\\</code>) 转换为冒号 (<code>:</code>)。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>~/.ve/commands/test.toml</code> 文件成为命令 <code>/test</code>。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>&lt;project&gt;/.ve/commands/git/commit.toml</code> 文件成为命名空间命令 <code>/git:commit</code>。</li>
</ul>
<h4 id="toml-文件格式-v1" class="mt-8 leading-6 text-lg title_fb7eb">TOML 文件格式 (v1)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#toml-文件格式-v1">#</a></h4>
<p class="my-4 leading-7">您的命令定义文件必须以 TOML 格式编写并使用 <code>.toml</code> 文件扩展名。</p>
<h5 id="必需字段" class="title_fb7eb">必需字段<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#必需字段">#</a></h5>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>prompt</code> (字符串): 执行命令时发送给火山引擎模型的提示。这可以是单行或多行字符串。</li>
</ul>
<h5 id="可选字段" class="title_fb7eb">可选字段<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#可选字段">#</a></h5>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>description</code> (字符串): 命令功能的简短一行描述。此文本将显示在 <code>/help</code> 菜单中您的命令旁边。<strong class="font-semibold">如果您省略此字段，将从文件名生成通用描述。</strong></li>
</ul>
<h4 id="处理参数" class="mt-8 leading-6 text-lg title_fb7eb">处理参数<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#处理参数">#</a></h4>
<p class="my-4 leading-7">自定义命令支持两种强大的参数处理方法。CLI 根据命令 <code>prompt</code> 的内容自动选择正确的方法。</p>
<h5 id="1-使用-args-的上下文感知注入" class="title_fb7eb">1. 使用 <code>{{args}}</code> 的上下文感知注入<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#1-使用-args-的上下文感知注入">#</a></h5>
<p class="my-4 leading-7">如果您的 <code>prompt</code> 包含特殊占位符 <code>{{args}}</code>，CLI 将用用户在命令名称后键入的文本替换该占位符。</p>
<p class="my-4 leading-7">这种注入的行为取决于其使用位置：</p>
<p class="my-4 leading-7"><strong class="font-semibold">A. 原始注入 (在 Shell 命令外部)</strong></p>
<p class="my-4 leading-7">在提示的主体中使用时，参数会按用户键入的方式精确注入。</p>
<p class="my-4 leading-7"><strong class="font-semibold">示例 (<code>git/fix.toml</code>):</strong></p>
<div class="language-toml"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-toml" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)"># 通过: /git:fix &quot;按钮未对齐&quot; 调用</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">description</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;为给定问题生成修复。&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">prompt</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;请为这里描述的问题提供代码修复: {{args}}。&quot;</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">模型收到: <code>请为这里描述的问题提供代码修复: &quot;按钮未对齐&quot;。</code></p>
<p class="my-4 leading-7"><strong class="font-semibold">B. 在 Shell 命令中使用参数 (在 <code>!{...}</code> 块内)</strong></p>
<p class="my-4 leading-7">当您在 shell 注入块 (<code>!{...}</code>) 内使用 <code>{{args}}</code> 时，参数在替换前会自动<strong class="font-semibold">进行 shell 转义</strong>。这允许您安全地将参数传递给 shell 命令，确保生成的命令在语法上正确且安全，同时防止命令注入漏洞。</p>
<p class="my-4 leading-7"><strong class="font-semibold">示例 (<code>/grep-code.toml</code>):</strong></p>
<div class="language-toml"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-toml" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-parameter)">prompt</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;&quot;&quot;
</span></span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">请总结模式 `{{args}}` 的发现。
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">搜索结果:
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">!{grep -r {{args}} .}
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">&quot;&quot;&quot;</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">当您运行 <code>/grep-code It&#x27;s complicated</code> 时：</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">CLI 看到 <code>{{args}}</code> 在 <code>!{...}</code> 的内外都使用了。</li>
<li class="[&amp;:not(:first-child)]:mt-2">外部: 第一个 <code>{{args}}</code> 被原始替换为 <code>It&#x27;s complicated</code>。</li>
<li class="[&amp;:not(:first-child)]:mt-2">内部: 第二个 <code>{{args}}</code> 被替换为转义版本（例如，在 Linux 上: <code>&quot;It&#x27;s complicated&quot;</code>）。</li>
<li class="[&amp;:not(:first-child)]:mt-2">执行的命令是 <code>grep -r &quot;It&#x27;s complicated&quot; .</code>。</li>
<li class="[&amp;:not(:first-child)]:mt-2">CLI 在执行前会提示您确认这个确切的安全命令。</li>
<li class="[&amp;:not(:first-child)]:mt-2">最终提示被发送。</li>
</ol>
<h5 id="2-默认参数处理" class="title_fb7eb">2. 默认参数处理<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#2-默认参数处理">#</a></h5>
<p class="my-4 leading-7">如果您的 <code>prompt</code> <strong class="font-semibold">不</strong>包含特殊占位符 <code>{{args}}</code>，CLI 使用默认行为来处理参数。</p>
<p class="my-4 leading-7">如果您为命令提供参数（例如，<code>/mycommand arg1</code>），CLI 会将您键入的完整命令附加到提示的末尾，用两个换行符分隔。这允许模型看到原始指令和您刚刚提供的特定参数。</p>
<p class="my-4 leading-7">如果您<strong class="font-semibold">不</strong>提供任何参数（例如，<code>/mycommand</code>），提示会按原样发送给模型，不附加任何内容。</p>
<p class="my-4 leading-7"><strong class="font-semibold">示例 (<code>changelog.toml</code>):</strong></p>
<p class="my-4 leading-7">此示例展示了如何通过为模型定义角色、解释在哪里找到用户输入以及指定预期格式和行为来创建一个强大的命令。</p>
<div class="language-toml"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-toml" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)"># 在: &lt;project&gt;/.ve/commands/changelog.toml</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># 通过: /changelog 1.2.0 added &quot;支持默认参数解析。&quot; 调用</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">description</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;向项目的 CHANGELOG.md 文件添加新条目。&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">prompt</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;&quot;&quot;
</span></span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token"># 任务: 更新变更日志
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">您是此软件项目的专家维护者。用户已调用一个命令来向变更日志添加新条目。
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">**用户的原始命令附加在您的指令下方。**
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">您的任务是从他们的输入中解析 `&lt;version&gt;`、`&lt;change_type&gt;` 和 `&lt;message&gt;`，并使用 `write_file` 工具正确更新 `CHANGELOG.md` 文件。
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">## 预期格式
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">命令遵循此格式: `/changelog &lt;version&gt; &lt;type&gt; &lt;message&gt;`
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">- `&lt;type&gt;` 必须是以下之一: &quot;added&quot;、&quot;changed&quot;、&quot;fixed&quot;、&quot;removed&quot;。
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">## 行为
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">1. 读取 `CHANGELOG.md` 文件。
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">2. 找到指定 `&lt;version&gt;` 的部分。
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">3. 在正确的 `&lt;type&gt;` 标题下添加 `&lt;message&gt;`。
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">4. 如果版本或类型部分不存在，则创建它。
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">5. 严格遵守 &quot;Keep a Changelog&quot; 格式。
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">&quot;&quot;&quot;</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">当您运行 <code>/changelog 1.2.0 added &quot;新功能&quot;</code> 时，发送给模型的最终文本将是原始提示，后跟两个换行符和您键入的命令。</p>
<h5 id="3-使用--执行-shell-命令" class="title_fb7eb">3. 使用 <code>!{...}</code> 执行 Shell 命令<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#3-使用--执行-shell-命令">#</a></h5>
<p class="my-4 leading-7">您可以通过在 <code>prompt</code> 中直接执行 shell 命令并注入其输出，使您的命令具有动态性。这对于从本地环境收集上下文（如读取文件内容或检查 Git 状态）非常理想。</p>
<p class="my-4 leading-7">当自定义命令尝试执行 shell 命令时，VeCLI 现在会在继续之前提示您确认。这是一项安全措施，以确保只能运行预期的命令。</p>
<p class="my-4 leading-7"><strong class="font-semibold">工作原理:</strong></p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">注入命令：</strong> 使用 <code>!{...}</code> 语法。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">参数替换：</strong> 如果 <code>{{args}}</code> 存在于块内，则会自动进行 shell 转义（参见上面的 <a href="#1-context-aware-injection-with-args" class="link_a7cea  link_a9ef4 inline-link_f855c">上下文感知注入</a>）。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">健壮解析：</strong> 解析器可以正确处理包含嵌套大括号的复杂 shell 命令，例如 JSON 有效载荷。<strong class="font-semibold">注意：</strong> <code>!{...}</code> 内的内容必须具有平衡的大括号 (<code>{</code> 和 <code>}</code>)。如果需要执行包含不平衡大括号的命令，请考虑将它包装在外部脚本文件中，并在 <code>!{...}</code> 块中调用该脚本。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">安全检查和确认：</strong> CLI 对最终的、已解析的命令（在参数转义和替换后）执行安全检查。将出现一个对话框，显示要执行的确切命令。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">执行和错误报告：</strong> 命令被执行。如果命令失败，注入到提示中的输出将包括错误消息 (stderr)，后跟状态行，例如，<code>[Shell 命令以代码 1 退出]</code>。这有助于模型理解失败的上下文。</li>
</ol>
<p class="my-4 leading-7"><strong class="font-semibold">示例 (<code>git/commit.toml</code>):</strong></p>
<p class="my-4 leading-7">此命令获取暂存的 git diff，并使用它来要求模型编写提交消息。</p>
<div class="language-toml"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-toml" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)"># 在: &lt;project&gt;/.ve/commands/git/commit.toml</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># 通过: /git:commit 调用</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">description</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;基于暂存的更改生成 Git 提交消息。&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># 提示使用 !{...} 执行命令并注入其输出。</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">prompt</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;&quot;&quot;
</span></span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">请根据以下 git diff 生成一个 Conventional Commit 消息：
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">```diff
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">!{git diff --staged}
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">```
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">&quot;&quot;&quot;</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">当您运行 <code>/git:commit</code> 时，CLI 首先执行 <code>git diff --staged</code>，然后在将最终的完整提示发送给模型之前，用该命令的输出替换 <code>!{git diff --staged}</code>。</p>
<h5 id="4-使用--注入文件内容" class="title_fb7eb">4. 使用 <code>@{...}</code> 注入文件内容<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#4-使用--注入文件内容">#</a></h5>
<p class="my-4 leading-7">您可以使用 <code>@{...}</code> 语法直接将文件或目录列表的内容嵌入到您的提示中。这对于创建对特定文件进行操作的命令非常有用。</p>
<p class="my-4 leading-7"><strong class="font-semibold">工作原理:</strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">文件注入</strong>: <code>@{path/to/file.txt}</code> 被 <code>file.txt</code> 的内容替换。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">多模态支持</strong>: 如果路径指向受支持的图像（例如 PNG、JPEG）、PDF、音频或视频文件，它将被正确编码并作为多模态输入注入。其他二进制文件会被优雅地处理并跳过。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">目录列表</strong>: <code>@{path/to/dir}</code> 被遍历，目录内及其所有子目录中的每个文件都会插入到提示中。如果启用了，则会遵守 <code>.gitignore</code> 和 <code>.veignore</code>。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">工作区感知</strong>: 命令会在当前目录和任何其他工作区目录中搜索路径。如果在工作区内，绝对路径是允许的。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">处理顺序</strong>: 使用 <code>@{...}</code> 进行的文件内容注入在 shell 命令 (<code>!{...}</code>) 和参数替换 (<code>{{args}}</code>) 之前进行处理。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">解析</strong>: 解析器要求 <code>@{...}</code> 内的内容（路径）具有平衡的大括号 (<code>{</code> 和 <code>}</code>)。</li>
</ul>
<p class="my-4 leading-7"><strong class="font-semibold">示例 (<code>review.toml</code>):</strong></p>
<p class="my-4 leading-7">此命令注入一个 <em>固定</em> 的最佳实践文件 (<code>docs/best-practices.md</code>) 的内容，并使用用户的参数为审查提供上下文。</p>
<div class="language-toml"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-toml" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)"># 在: &lt;project&gt;/.ve/commands/review.toml</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># 通过: /review FileCommandLoader.ts 调用</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">description</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;使用最佳实践指南审查提供的上下文。&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">prompt</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;&quot;&quot;
</span></span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">您是一位专家代码审查员。
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">您的任务是审查 {{args}}。
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">在提供您的审查时，请使用以下最佳实践：
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">@{docs/best-practices.md}
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">&quot;&quot;&quot;</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">当您运行 <code>/review FileCommandLoader.ts</code> 时，<code>@{docs/best-practices.md}</code> 占位符被该文件的内容替换，<code>{{args}}</code> 被您提供的文本替换，然后将最终提示发送给模型。</p>
<hr class="my-12 border-t border-solid border-divider-light"/>
<h4 id="示例-纯函数-重构命令" class="mt-8 leading-6 text-lg title_fb7eb">示例: &quot;纯函数&quot; 重构命令<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#示例-纯函数-重构命令">#</a></h4>
<p class="my-4 leading-7">让我们创建一个全局命令，要求模型重构一段代码。</p>
<p class="my-4 leading-7"><strong class="font-semibold">1. 创建文件和目录:</strong></p>
<p class="my-4 leading-7">首先，确保用户命令目录存在，然后创建一个 <code>refactor</code> 子目录用于组织和最终的 TOML 文件。</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-function)">mkdir</span><span> -p ~/.ve/commands/refactor
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-function)">touch</span><span> ~/.ve/commands/refactor/pure.toml</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">2. 将内容添加到文件中:</strong></p>
<p class="my-4 leading-7">在您的编辑器中打开 <code>~/.ve/commands/refactor/pure.toml</code> 并添加以下内容。我们包括了可选的 <code>description</code> 以获得最佳实践。</p>
<div class="language-toml"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-toml" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)"># 在: ~/.ve/commands/refactor/pure.toml</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># 此命令将通过: /refactor:pure 调用</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">description</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;要求模型将当前上下文重构为纯函数。&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-parameter)">prompt</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;&quot;&quot;
</span></span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">请分析我在当前上下文中提供的代码。
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">将其重构为纯函数。
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">您的响应应包括：
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">1. 重构后的纯函数代码块。
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">2. 对您所做的关键更改及其如何有助于纯净性的简要解释。
</span><span style="display:block;padding:0 1.25rem;color:var(--code-token-string)" class="token">&quot;&quot;&quot;</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">3. 运行命令:</strong></p>
<p class="my-4 leading-7">就是这样！您现在可以在 CLI 中运行您的命令。首先，您可能会将一个文件添加到上下文中，然后调用您的命令：</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>&gt; @my-messy-function.js
&gt; /refactor:pure
</code></div></div>
<p class="my-4 leading-7">VeCLI 然后将执行在您的 TOML 文件中定义的多行提示。</p>
<h2 id="at-命令-" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">At 命令 (<code>@</code>)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#at-命令-">#</a></h2>
<p class="my-4 leading-7">At 命令用于将文件或目录的内容作为您对火山引擎的提示的一部分包含进来。这些命令包括 git 感知过滤。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>@&lt;文件或目录的路径&gt;</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 将指定文件或文件的内容注入到您的当前提示中。这对于询问有关特定代码、文本或文件集合的问题很有用。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">示例：</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>@path/to/your/file.txt 解释这段文本。</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>@src/my_project/ 总结此目录中的代码。</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>这个文件是关于什么的？ @README.md</code></li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">详细信息：</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">如果提供了单个文件的路径，则读取该文件的内容。</li>
<li class="[&amp;:not(:first-child)]:mt-2">如果提供了目录的路径，则命令会尝试读取该目录及其任何子目录中的文件内容。</li>
<li class="[&amp;:not(:first-child)]:mt-2">路径中的空格应使用反斜杠进行转义（例如，<code>@My\\ Documents/file.txt</code>）。</li>
<li class="[&amp;:not(:first-child)]:mt-2">该命令在内部使用 <code>read_many_files</code> 工具。内容被获取，然后在发送到  模型之前插入到您的查询中。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Git 感知过滤：</strong> 默认情况下，git 忽略的文件（如 <code>node_modules/</code>、<code>dist/</code>、<code>.env</code>、<code>.git/</code>）会被排除。可以通过 <code>context.fileFiltering</code> 设置更改此行为。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">文件类型：</strong> 该命令适用于基于文本的文件。虽然它可能会尝试读取任何文件，但底层的 <code>read_many_files</code> 工具可能会跳过或截断二进制文件或非常大的文件，以确保性能和相关性。该工具会指示哪些文件被跳过。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">输出：</strong> CLI 将显示一条工具调用消息，指示使用了 <code>read_many_files</code>，以及一条详细说明状态和处理路径的消息。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">**<code>@</code> (单独的 at 符号)</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 如果您输入一个单独的 <code>@</code> 符号而没有路径，查询将按原样传递给火山引擎模型。如果您在提示中特别谈论 <code>@</code> 符号，这可能很有用。</li>
</ul>
</li>
</ul>
<h3 id="-命令的错误处理" class="mt-10 mb-2 leading-7 text-xl title_fb7eb"><code>@</code> 命令的错误处理<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#-命令的错误处理">#</a></h3>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">如果 <code>@</code> 之后指定的路径未找到或无效，将显示错误消息，并且查询可能不会发送到  模型，或者会在没有文件内容的情况下发送。</li>
<li class="[&amp;:not(:first-child)]:mt-2">如果 <code>read_many_files</code> 工具遇到错误（例如，权限问题），也会报告此错误。</li>
</ul>
<h2 id="shell-模式和直通命令-" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Shell 模式和直通命令 (<code>!</code>)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#shell-模式和直通命令-">#</a></h2>
<p class="my-4 leading-7"><code>!</code> 前缀允许您直接从 VeCLI 内与系统的 shell 交互。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>!&lt;shell_command&gt;</code></strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 使用 <code>bash</code> 在 Linux/macOS 上或使用 <code>cmd.exe</code> 在 Windows 上执行给定的 <code>&lt;shell_command&gt;</code>。命令的任何输出或错误都会显示在终端中。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">示例：</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>!ls -la</code> (执行 <code>ls -la</code> 并返回 VeCLI)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>!git status</code> (执行 <code>git status</code> 并返回 VeCLI)</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold"><code>!</code> (切换 shell 模式)</strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">描述：</strong> 单独输入 <code>!</code> 可切换 shell 模式。<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">进入 shell 模式：</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">激活时，shell 模式使用不同的着色和 &quot;Shell 模式指示器&quot;。</li>
<li class="[&amp;:not(:first-child)]:mt-2">在 shell 模式下，您键入的文本直接解释为 shell 命令。</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">退出 shell 模式：</strong>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">退出时，UI 恢复到标准外观，正常的 VeCLI 行为恢复。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold">所有 <code>!</code> 用法的注意事项：</strong> 您在 shell 模式下执行的命令具有与直接在终端中运行它们相同的权限和影响。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold">环境变量：</strong> 当通过 <code>!</code> 或在 shell 模式下执行命令时，<code>GEMINI_CLI=1</code> 环境变量会在子进程的环境中设置。这允许脚本或工具检测它们是否在 VeCLI 内运行。</p>
</li>
</ul><!--/$--></div><div class="rspress-doc-footer"><footer class="mt-8"><div class="xs:flex pb-5 px-2 justify-end items-center"></div><div class="flex flex-col"></div><div class="flex flex-col sm:flex-row sm:justify-around gap-4 pt-6"><div class="prev_c92d1 flex flex-col"><a href="/cli/index" class="link_a7cea pager-link_e0d2d"><span class="desc_dcc01">Previous Page</span><span class="title_a3acb">CLI 介绍</span></a></div><div class="next_c11be flex flex-col"><a href="/cli/configuration" class="link_a7cea pager-link_e0d2d next_ad355"><span class="desc_dcc01">Next Page</span><span class="title_a3acb">配置</span></a></div></div></footer></div></div><div class="aside-container_bc5fa"><div class="flex flex-col"><div id="aside-container" class="relative text-sm font-medium"><div class="leading-7 block text-sm font-semibold pl-3">ON THIS PAGE</div><nav class="mt-1"><ul class="relative"><li><a href="#斜杠命令-" title="斜杠命令 (/)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">斜杠命令 (<code>/</code>)</span></a></li><li><a href="#内置命令" title="内置命令" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">内置命令</span></a></li><li><a href="#自定义命令" title="自定义命令" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">自定义命令</span></a></li><li><a href="#文件位置和优先级" title="文件位置和优先级" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">文件位置和优先级</span></a></li><li><a href="#命名和命名空间" title="命名和命名空间" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">命名和命名空间</span></a></li><li><a href="#toml-文件格式-v1" title="TOML 文件格式 (v1)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">TOML 文件格式 (v1)</span></a></li><li><a href="#处理参数" title="处理参数" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">处理参数</span></a></li><li><a href="#示例-纯函数-重构命令" title="示例: &quot;纯函数&quot; 重构命令" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">示例: &quot;纯函数&quot; 重构命令</span></a></li><li><a href="#at-命令-" title="At 命令 (@)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">At 命令 (<code>@</code>)</span></a></li><li><a href="#-命令的错误处理" title="@ 命令的错误处理" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block"><code>@</code> 命令的错误处理</span></a></li><li><a href="#shell-模式和直通命令-" title="Shell 模式和直通命令 (!)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Shell 模式和直通命令 (<code>!</code>)</span></a></li></ul></nav></div></div></div></div></div></div></section></div>
    <div id="search-container"></div>
  </body>
</html>
