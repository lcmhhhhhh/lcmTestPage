<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Rspress v1.45.3">
    <title data-rh="true">MCP servers with the VeCLI - VeCLI</title><meta data-rh="true" name="description" content="VeCLI - 火山引擎AI命令行工具文档"/>
  <script>{;const saved = localStorage.getItem('rspress-theme-appearance');const preferDark = window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = !saved || saved === 'auto' ? preferDark : saved === 'dark';document.documentElement.classList.toggle('dark', isDark);document.documentElement.style.colorScheme = isDark ? 'dark' : 'light';}</script><script defer src="/static/js/styles.85a0ab23.js"></script><script defer src="/static/js/lib-react.f6e61177.js"></script><script defer src="/static/js/lib-router.d48d8961.js"></script><script defer src="/static/js/7162.70810227.js"></script><script defer src="/static/js/index.9d45c3b8.js"></script><link href="/static/css/styles.e45a8283.css" rel="stylesheet"></head>

  <body >
    <div id="root"><div class="navContainer_d18b1 rspress-nav px-6  sticky_ddfa7"><div class="container_e4235 flex justify-between items-center h-full"><div class="navBarTitle_c5f07"><a href="/en/index" class="link_a7cea flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><div class="mr-1 min-w-8"><img src="/logo.jpeg" alt="logo" id="logo" class="rspress-logo"/></div><span>VeCLI</span></a></div><div class="flex flex-1 justify-end items-center"><div class="rightNav_a2fea"><div class="flex sm:flex-1 items-center sm:pl-4 sm:pr-2"><div class="rspress-nav-search-button navSearchButton_df1fb"><button><svg width="18" height="18" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9"></path></svg><p class="searchWord_af2c1">Search Docs</p><div style="opacity:0"><span></span><span>K</span></div></button></div><div class="mobileNavSearchButton_d85a9"><svg width="24" height="24" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9"></path></svg></div></div><div class="rspress-nav-menu menu h-14"><a href="/en/introduction" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">Introduction</div></a><a href="/en/cli/index" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">CLI</div></a><a href="/en/core/index" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">Core</div></a><a href="/en/tools/index" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154 activeItem_a28b5 text-sm font-medium mx-1.5 px-3 py-2 flex items-center">Tools</div></a></div><div class="flex-center flex-row"><div class="translation menu-item_b8238 flex text-sm font-bold items-center px-3 py-2"><div><div class="relative flex-center h-14"><button class="rspress-nav-menu-group-button flex-center items-center font-medium text-sm text-text-1 hover:text-text-2 transition-colors duration-200"><span class="text-sm font-medium flex" style="margin-right:2px"><svg width="18" height="18" viewBox="0 0 32 32" style="width:18px;height:18px"><path fill="currentColor" d="M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6 2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.7 14.7 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.5 16.5 0 0 0 3 5.58A16.8 16.8 0 0 1 3 18l.75 1.86A18.5 18.5 0 0 0 9.53 16a16.9 16.9 0 0 0 5.76 3.84L16 18a14.5 14.5 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z"></path></svg></span><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></button><div class="rspress-nav-menu-group-content absolute mx-0.8 transition-opacity duration-300" style="opacity:0;visibility:hidden;right:0;top:52px"><div class="p-3 pr-2 w-full h-full max-h-100vh whitespace-nowrap" style="box-shadow:var(--rp-shadow-3);z-index:100;border:1px solid var(--rp-c-divider-light);border-radius:var(--rp-radius-large);background:var(--rp-c-bg)"><div><div class="rounded-2xl my-1 flex" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><span class="text-brand">English</span></div></div><div><div class="font-medium my-1"><a href="/tools/mcp-server" class="link_a7cea "><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>简体中文</span></div></div></a></div></div></div></div></div></div></div><div class="mx-2"><div class="md:mr-2 rspress-nav-appearance"><div class="p-1 border border-solid border-gray-300 text-gray-400  cursor-pointer rounded-md hover:border-gray-600 hover:text-gray-600 dark:hover:border-gray-200 dark:hover:text-gray-200 transition-all duration-300 w-7 h-7"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="dark:hidden" width="18" height="18" fill="currentColor"><path d="M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6m0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4M12 4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1M12 24c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1M5.6 6.6c-.3 0-.5-.1-.7-.3L3.5 4.9c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.1.2-.4.3-.7.3M19.8 20.8c-.3 0-.5-.1-.7-.3l-1.4-1.4c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.2.2-.5.3-.7.3M3 13H1c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1M23 13h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1M4.2 20.8c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.4.3-.7.3M18.4 6.6c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.5.3-.7.3"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="hidden dark:block" width="18" height="18" fill="currentColor"><path d="M12.1 22h-.9c-5.5-.5-9.5-5.4-9-10.9.4-4.8 4.2-8.6 9-9 .4 0 .8.2 1 .5s.2.8-.1 1.1c-2 2.7-1.4 6.4 1.3 8.4 2.1 1.6 5 1.6 7.1 0 .3-.2.7-.3 1.1-.1.3.2.5.6.5 1-.2 2.7-1.5 5.1-3.6 6.8-1.9 1.4-4.1 2.2-6.4 2.2M9.3 4.4c-2.9 1-5 3.6-5.2 6.8-.4 4.4 2.8 8.3 7.2 8.7 2.1.2 4.2-.4 5.8-1.8 1.1-.9 1.9-2.1 2.4-3.4-2.5.9-5.3.5-7.5-1.1-2.8-2.2-3.9-5.9-2.7-9.2"></path></svg></div></div></div></div></div><div class="mobileNavMenu_e7045"><div class="navScreen_ec30c  rspress-nav-screen" id="navScreen"><div class="container_c935d"><div class="navMenu_b887b"><div class="navMenuItem_e7978 w-full"><a href="/en/introduction" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">Introduction</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/en/cli/index" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">CLI</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/en/core/index" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">Core</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/en/tools/index" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154 activeItem_a28b5 text-sm font-medium mx-1.5 px-3 py-2 flex items-center">Tools</div></a></div></div><div class="flex-center flex-col gap-2"><div class="mt-2 navAppearance_bf893 flex justify-center"></div><div class="flex text-sm font-bold justify-center"><div class="mx-1.5 my-1"><div class=" navScreenMenuGroup_e771d relative"><button class="button_ea41e"><span class="buttonSpan_f4b8f"><svg width="18" height="18" viewBox="0 0 32 32" style="width:18px;height:18px"><path fill="currentColor" d="M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6 2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.7 14.7 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.5 16.5 0 0 0 3 5.58A16.8 16.8 0 0 1 3 18l.75 1.86A18.5 18.5 0 0 0 9.53 16a16.9 16.9 0 0 0 5.76 3.84L16 18a14.5 14.5 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z"></path></svg></span><svg width="1em" height="1em" viewBox="0 0 32 32" class=" down_f631a "><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></button><div><div class="items_dd149"><div><div class="p-1 text-center"><span class="text-brand">English</span></div></div><div><div class="py-1 font-medium"><a href="/tools/mcp-server" class="link_a7cea "><div><div class="flex justify-center"><span>简体中文</span></div></div></a></div></div></div></div></div></div></div></div></div></div><button aria-label="mobile hamburger" class=" rspress-mobile-hamburger navHamburger_ac64c text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="currentColor"><circle cx="8" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="24" cy="16" r="2" fill="currentColor"></circle></svg></button></div></div></div></div><section><div class="docLayout_af141 pt-0"><aside class="sidebar_dd719 rspress-sidebar "><div class="navTitleMask_fb17c"><div class="navBarTitle_c5f07"><a href="/en/index" class="link_a7cea flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><div class="mr-1 min-w-8"><img src="/logo.jpeg" alt="logo" id="logo" class="rspress-logo"/></div><span>VeCLI</span></a></div></div><div class="rspress-scrollbar sidebarContent_da296"><nav class="pb-2"><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">Getting Started</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/en/introduction" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Introduction</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/deployment" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Deployment</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">CLI Usage</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/en/cli/index" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>CLI Introduction</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/cli/commands" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Commands</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/cli/configuration" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Configuration</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/cli/authentication" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Authentication</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/cli/themes" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Themes</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/cli/tutorials" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Tutorials</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">Core Details</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/en/core/index" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Core Introduction</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/core/tools-api" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Tools API</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/core/memport" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Memport</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">Tools</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/en/tools/index" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Tools Overview</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/tools/file-system" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>File System</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/tools/multi-file" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Multi-File</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/tools/shell" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Shell</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/tools/web-fetch" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Web Fetch</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/tools/memory" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Memory</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/tools/mcp-server" class="link_a7cea menuLink_bb039"><div class="menuItemActive_de63c mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>MCP Server</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">Additional Resources</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/en/checkpointing" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Checkpointing</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/ide-integration" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>IDE Integration</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/telemetry" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Telemetry</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/npm" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>NPM</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/troubleshooting" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Troubleshooting</span></div></a></div><div class="rspress-sidebar-item"><a href="/en/releases" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>Releases</span></div></a></div></div></div></section></nav></div></aside><div class="flex-1 relative min-w-0"><div class="rspress-sidebar-menu-container "><div class="rspress-sidebar-menu"><button type="button" class="flex-center mr-auto"><div class="text-md mr-2"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M4 6h24v2H4zm0 18h24v2H4zm0-12h24v2H4zm0 6h24v2H4z"></path></svg></div><span class="text-sm">Menu</span></button><button type="button" class="flex-center ml-auto"><span class="text-sm">ON THIS PAGE</span><div class="text-md mr-2" style="transform:rotate(0deg);transition:transform 0.2s ease-out;margin-top:2px"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></button><div class="rspress-local-toc-container "><ul><li><a href="#what-is-an-mcp-server" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">What is an MCP server?</span></a></li><li><a href="#core-integration-architecture" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Core Integration Architecture</span></a></li><li><a href="#discovery-layer-mcp-clientts" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Discovery Layer (<code>mcp-client.ts</code>)</span></a></li><li><a href="#execution-layer-mcp-toolts" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Execution Layer (<code>mcp-tool.ts</code>)</span></a></li><li><a href="#transport-mechanisms" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Transport Mechanisms</span></a></li><li><a href="#how-to-set-up-your-mcp-server" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">How to set up your MCP server</span></a></li><li><a href="#configure-the-mcp-server-in-settingsjson" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Configure the MCP server in settings.json</span></a></li><li><a href="#global-mcp-settings-mcp" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Global MCP Settings (<code>mcp</code>)</span></a></li><li><a href="#server-specific-configuration-mcpservers" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Server-Specific Configuration (<code>mcpServers</code>)</span></a></li><li><a href="#configuration-structure" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Configuration Structure</span></a></li><li><a href="#configuration-properties" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Configuration Properties</span></a></li><li><a href="#required-one-of-the-following" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Required (one of the following)</span></a></li><li><a href="#optional" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Optional</span></a></li><li><a href="#oauth-support-for-remote-mcp-servers" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">OAuth Support for Remote MCP Servers</span></a></li><li><a href="#automatic-oauth-discovery" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Automatic OAuth Discovery</span></a></li><li><a href="#authentication-flow" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Authentication Flow</span></a></li><li><a href="#browser-redirect-requirements" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Browser Redirect Requirements</span></a></li><li><a href="#managing-oauth-authentication" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Managing OAuth Authentication</span></a></li><li><a href="#oauth-configuration-properties" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">OAuth Configuration Properties</span></a></li><li><a href="#token-management" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Token Management</span></a></li><li><a href="#authentication-provider-type" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Authentication Provider Type</span></a></li><li><a href="#example-configurations" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Example Configurations</span></a></li><li><a href="#python-mcp-server-stdio" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Python MCP Server (Stdio)</span></a></li><li><a href="#nodejs-mcp-server-stdio" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Node.js MCP Server (Stdio)</span></a></li><li><a href="#docker-based-mcp-server" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Docker-based MCP Server</span></a></li><li><a href="#http-based-mcp-server" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">HTTP-based MCP Server</span></a></li><li><a href="#http-based-mcp-server-with-custom-headers" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">HTTP-based MCP Server with Custom Headers</span></a></li><li><a href="#mcp-server-with-tool-filtering" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">MCP Server with Tool Filtering</span></a></li><li><a href="#discovery-process-deep-dive" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Discovery Process Deep Dive</span></a></li><li><a href="#1-server-iteration-and-connection" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">1. Server Iteration and Connection</span></a></li><li><a href="#2-tool-discovery" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">2. Tool Discovery</span></a></li><li><a href="#3-conflict-resolution" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">3. Conflict Resolution</span></a></li><li><a href="#4-schema-processing" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">4. Schema Processing</span></a></li><li><a href="#5-connection-management" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">5. Connection Management</span></a></li><li><a href="#tool-execution-flow" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Tool Execution Flow</span></a></li><li><a href="#1-tool-invocation" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">1. Tool Invocation</span></a></li><li><a href="#2-confirmation-process" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">2. Confirmation Process</span></a></li><li><a href="#trust-based-bypass" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Trust-based Bypass</span></a></li><li><a href="#dynamic-allow-listing" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Dynamic Allow-listing</span></a></li><li><a href="#user-choice-handling" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">User Choice Handling</span></a></li><li><a href="#3-execution" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">3. Execution</span></a></li><li><a href="#4-response-handling" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">4. Response Handling</span></a></li><li><a href="#how-to-interact-with-your-mcp-server" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">How to interact with your MCP server</span></a></li><li><a href="#using-the-mcp-command" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Using the <code>/mcp</code> Command</span></a></li><li><a href="#example-mcp-output" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Example <code>/mcp</code> Output</span></a></li><li><a href="#tool-usage" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Tool Usage</span></a></li><li><a href="#status-monitoring-and-troubleshooting" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Status Monitoring and Troubleshooting</span></a></li><li><a href="#connection-states" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Connection States</span></a></li><li><a href="#server-status-mcpserverstatus" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Server Status (<code>MCPServerStatus</code>)</span></a></li><li><a href="#discovery-state-mcpdiscoverystate" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Discovery State (<code>MCPDiscoveryState</code>)</span></a></li><li><a href="#common-issues-and-solutions" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Common Issues and Solutions</span></a></li><li><a href="#server-wont-connect" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Server Won&#x27;t Connect</span></a></li><li><a href="#no-tools-discovered" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">No Tools Discovered</span></a></li><li><a href="#tools-not-executing" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Tools Not Executing</span></a></li><li><a href="#sandbox-compatibility" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Sandbox Compatibility</span></a></li><li><a href="#debugging-tips" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Debugging Tips</span></a></li><li><a href="#important-notes" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Important Notes</span></a></li><li><a href="#security-considerations" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Security Considerations</span></a></li><li><a href="#performance-and-resource-management" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Performance and Resource Management</span></a></li><li><a href="#schema-compatibility" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Schema Compatibility</span></a></li><li><a href="#returning-rich-content-from-tools" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Returning Rich Content from Tools</span></a></li><li><a href="#how-it-works" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">How It Works</span></a></li><li><a href="#example-returning-text-and-an-image" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Example: Returning Text and an Image</span></a></li><li><a href="#mcp-prompts-as-slash-commands" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">MCP Prompts as Slash Commands</span></a></li><li><a href="#defining-prompts-on-the-server" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Defining Prompts on the Server</span></a></li><li><a href="#invoking-prompts" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Invoking Prompts</span></a></li><li><a href="#managing-mcp-servers-with-vecli-mcp" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Managing MCP Servers with <code>vecli mcp</code></span></a></li><li><a href="#adding-a-server-vecli-mcp-add" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Adding a Server (<code>vecli mcp add</code>)</span></a></li><li><a href="#adding-an-stdio-server" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Adding an stdio server</span></a></li><li><a href="#adding-an-http-server" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Adding an HTTP server</span></a></li><li><a href="#adding-an-sse-server" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Adding an SSE server</span></a></li><li><a href="#listing-servers-vecli-mcp-list" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Listing Servers (<code>vecli mcp list</code>)</span></a></li><li><a href="#removing-a-server-vecli-mcp-remove" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Removing a Server (<code>vecli mcp remove</code>)</span></a></li></ul></div></div></div><div class="content_ff766 rspress-doc-container flex"><div class="flex-1 overflow-x-auto"><div class="rspress-doc"><!--$--><h1 id="mcp-servers-with-the-vecli" class="rspress-doc-title text-3xl mb-10 leading-10 tracking-tight title_fb7eb">MCP servers with the VeCLI<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#mcp-servers-with-the-vecli">#</a></h1>
<p class="my-4 leading-7">This document provides a guide to configuring and using Model Context Protocol (MCP) servers with the VeCLI.</p>
<h2 id="what-is-an-mcp-server" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">What is an MCP server?<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#what-is-an-mcp-server">#</a></h2>
<p class="my-4 leading-7">An MCP server is an application that exposes tools and resources to the VeCLI through the Model Context Protocol, allowing it to interact with external systems and data sources. MCP servers act as a bridge between the Vecli model and your local environment or other services like APIs.</p>
<p class="my-4 leading-7">An MCP server enables the VeCLI to:</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Discover tools:</strong> List available tools, their descriptions, and parameters through standardized schema definitions.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Execute tools:</strong> Call specific tools with defined arguments and receive structured responses.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Access resources:</strong> Read data from specific resources (though the VeCLI primarily focuses on tool execution).</li>
</ul>
<p class="my-4 leading-7">With an MCP server, you can extend the VeCLI&#x27;s capabilities to perform actions beyond its built-in features, such as interacting with databases, APIs, custom scripts, or specialized workflows.</p>
<h2 id="core-integration-architecture" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Core Integration Architecture<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#core-integration-architecture">#</a></h2>
<p class="my-4 leading-7">The VeCLI integrates with MCP servers through a sophisticated discovery and execution system built into the core package (<code>packages/core/src/tools/</code>):</p>
<h3 id="discovery-layer-mcp-clientts" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Discovery Layer (<code>mcp-client.ts</code>)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#discovery-layer-mcp-clientts">#</a></h3>
<p class="my-4 leading-7">The discovery process is orchestrated by <code>discoverMcpTools()</code>, which:</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Iterates through configured servers</strong> from your <code>settings.json</code> <code>mcpServers</code> configuration</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Establishes connections</strong> using appropriate transport mechanisms (Stdio, SSE, or Streamable HTTP)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Fetches tool definitions</strong> from each server using the MCP protocol</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Sanitizes and validates</strong> tool schemas for compatibility with the Vecli API</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Registers tools</strong> in the global tool registry with conflict resolution</li>
</ol>
<h3 id="execution-layer-mcp-toolts" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Execution Layer (<code>mcp-tool.ts</code>)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#execution-layer-mcp-toolts">#</a></h3>
<p class="my-4 leading-7">Each discovered MCP tool is wrapped in a <code>DiscoveredMCPTool</code> instance that:</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Handles confirmation logic</strong> based on server trust settings and user preferences</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Manages tool execution</strong> by calling the MCP server with proper parameters</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Processes responses</strong> for both the LLM context and user display</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Maintains connection state</strong> and handles timeouts</li>
</ul>
<h3 id="transport-mechanisms" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Transport Mechanisms<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#transport-mechanisms">#</a></h3>
<p class="my-4 leading-7">The VeCLI supports three MCP transport types:</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Stdio Transport:</strong> Spawns a subprocess and communicates via stdin/stdout</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">SSE Transport:</strong> Connects to Server-Sent Events endpoints</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Streamable HTTP Transport:</strong> Uses HTTP streaming for communication</li>
</ul>
<h2 id="how-to-set-up-your-mcp-server" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">How to set up your MCP server<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#how-to-set-up-your-mcp-server">#</a></h2>
<p class="my-4 leading-7">The VeCLI uses the <code>mcpServers</code> configuration in your <code>settings.json</code> file to locate and connect to MCP servers. This configuration supports multiple servers with different transport mechanisms.</p>
<h3 id="configure-the-mcp-server-in-settingsjson" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Configure the MCP server in settings.json<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#configure-the-mcp-server-in-settingsjson">#</a></h3>
<p class="my-4 leading-7">You can configure MCP servers in your <code>settings.json</code> file in two main ways: through the top-level <code>mcpServers</code> object for specific server definitions, and through the <code>mcp</code> object for global settings that control server discovery and execution.</p>
<h4 id="global-mcp-settings-mcp" class="mt-8 leading-6 text-lg title_fb7eb">Global MCP Settings (<code>mcp</code>)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#global-mcp-settings-mcp">#</a></h4>
<p class="my-4 leading-7">The <code>mcp</code> object in your <code>settings.json</code> allows you to define global rules for all MCP servers.</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>mcp.serverCommand</code></strong> (string): A global command to start an MCP server.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>mcp.allowed</code></strong> (array of strings): A list of MCP server names to allow. If this is set, only servers from this list (matching the keys in the <code>mcpServers</code> object) will be connected to.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>mcp.excluded</code></strong> (array of strings): A list of MCP server names to exclude. Servers in this list will not be connected to.</li>
</ul>
<p class="my-4 leading-7"><strong class="font-semibold">Example:</strong></p>
<div class="language-json"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-json" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;mcp&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;allowed&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-string)">&quot;my-trusted-server&quot;</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;excluded&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-string)">&quot;experimental-server&quot;</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h4 id="server-specific-configuration-mcpservers" class="mt-8 leading-6 text-lg title_fb7eb">Server-Specific Configuration (<code>mcpServers</code>)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#server-specific-configuration-mcpservers">#</a></h4>
<p class="my-4 leading-7">The <code>mcpServers</code> object is where you define each individual MCP server you want the CLI to connect to.</p>
<h3 id="configuration-structure" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Configuration Structure<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#configuration-structure">#</a></h3>
<p class="my-4 leading-7">Add an <code>mcpServers</code> object to your <code>settings.json</code> file:</p>
<div class="language-json"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-json" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">{</span><span> ...file contains other config objects
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;mcpServers&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;serverName&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;command&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;path/to/server&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;args&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-string)">&quot;--arg1&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;value1&quot;</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;env&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-parameter)">&quot;API_KEY&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;$MY_API_TOKEN&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;cwd&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;./server-directory&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;timeout&quot;</span><span class="token operator">:</span><span> </span><span class="token number">30000</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;trust&quot;</span><span class="token operator">:</span><span> </span><span class="token boolean">false</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h3 id="configuration-properties" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Configuration Properties<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#configuration-properties">#</a></h3>
<p class="my-4 leading-7">Each server configuration supports the following properties:</p>
<h4 id="required-one-of-the-following" class="mt-8 leading-6 text-lg title_fb7eb">Required (one of the following)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#required-one-of-the-following">#</a></h4>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>command</code></strong> (string): Path to the executable for Stdio transport</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>url</code></strong> (string): SSE endpoint URL (e.g., <code>&quot;http://localhost:8080/sse&quot;</code>)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>httpUrl</code></strong> (string): HTTP streaming endpoint URL</li>
</ul>
<h4 id="optional" class="mt-8 leading-6 text-lg title_fb7eb">Optional<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#optional">#</a></h4>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>args</code></strong> (string[]): Command-line arguments for Stdio transport</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>headers</code></strong> (object): Custom HTTP headers when using <code>url</code> or <code>httpUrl</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>env</code></strong> (object): Environment variables for the server process. Values can reference environment variables using <code>$VAR_NAME</code> or <code>${VAR_NAME}</code> syntax</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>cwd</code></strong> (string): Working directory for Stdio transport</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>timeout</code></strong> (number): Request timeout in milliseconds (default: 600,000ms = 10 minutes)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>trust</code></strong> (boolean): When <code>true</code>, bypasses all tool call confirmations for this server (default: <code>false</code>)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>includeTools</code></strong> (string[]): List of tool names to include from this MCP server. When specified, only the tools listed here will be available from this server (allowlist behavior). If not specified, all tools from the server are enabled by default.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>excludeTools</code></strong> (string[]): List of tool names to exclude from this MCP server. Tools listed here will not be available to the model, even if they are exposed by the server. <strong class="font-semibold">Note:</strong> <code>excludeTools</code> takes precedence over <code>includeTools</code> - if a tool is in both lists, it will be excluded.</li>
</ul>
<h3 id="oauth-support-for-remote-mcp-servers" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">OAuth Support for Remote MCP Servers<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#oauth-support-for-remote-mcp-servers">#</a></h3>
<p class="my-4 leading-7">The VeCLI supports OAuth 2.0 authentication for remote MCP servers using SSE or HTTP transports. This enables secure access to MCP servers that require authentication.</p>
<h4 id="automatic-oauth-discovery" class="mt-8 leading-6 text-lg title_fb7eb">Automatic OAuth Discovery<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#automatic-oauth-discovery">#</a></h4>
<p class="my-4 leading-7">For servers that support OAuth discovery, you can omit the OAuth configuration and let the CLI discover it automatically:</p>
<div class="language-json"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-json" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;mcpServers&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;discoveredServer&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;url&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;https://api.example.com/sse&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">The CLI will automatically:</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">Detect when a server requires OAuth authentication (401 responses)</li>
<li class="[&amp;:not(:first-child)]:mt-2">Discover OAuth endpoints from server metadata</li>
<li class="[&amp;:not(:first-child)]:mt-2">Perform dynamic client registration if supported</li>
<li class="[&amp;:not(:first-child)]:mt-2">Handle the OAuth flow and token management</li>
</ul>
<h4 id="authentication-flow" class="mt-8 leading-6 text-lg title_fb7eb">Authentication Flow<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#authentication-flow">#</a></h4>
<p class="my-4 leading-7">When connecting to an OAuth-enabled server:</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Initial connection attempt</strong> fails with 401 Unauthorized</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">OAuth discovery</strong> finds authorization and token endpoints</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Browser opens</strong> for user authentication (requires local browser access)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Authorization code</strong> is exchanged for access tokens</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Tokens are stored</strong> securely for future use</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Connection retry</strong> succeeds with valid tokens</li>
</ol>
<h4 id="browser-redirect-requirements" class="mt-8 leading-6 text-lg title_fb7eb">Browser Redirect Requirements<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#browser-redirect-requirements">#</a></h4>
<p class="my-4 leading-7"><strong class="font-semibold">Important:</strong> OAuth authentication requires that your local machine can:</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">Open a web browser for authentication</li>
<li class="[&amp;:not(:first-child)]:mt-2">Receive redirects on <code>http://localhost:7777/oauth/callback</code></li>
</ul>
<p class="my-4 leading-7">This feature will not work in:</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">Headless environments without browser access</li>
<li class="[&amp;:not(:first-child)]:mt-2">Remote SSH sessions without X11 forwarding</li>
<li class="[&amp;:not(:first-child)]:mt-2">Containerized environments without browser support</li>
</ul>
<h4 id="managing-oauth-authentication" class="mt-8 leading-6 text-lg title_fb7eb">Managing OAuth Authentication<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#managing-oauth-authentication">#</a></h4>
<p class="my-4 leading-7">Use the <code>/mcp auth</code> command to manage OAuth authentication:</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)"># List servers requiring authentication</span><span>
</span></span><span style="display:block;padding:0 1.25rem">/mcp auth
</span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># Authenticate with a specific server</span><span>
</span></span><span style="display:block;padding:0 1.25rem">/mcp auth serverName
</span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># Re-authenticate if tokens expire</span><span>
</span></span><span style="display:block;padding:0 1.25rem">/mcp auth serverName</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h4 id="oauth-configuration-properties" class="mt-8 leading-6 text-lg title_fb7eb">OAuth Configuration Properties<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#oauth-configuration-properties">#</a></h4>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>enabled</code></strong> (boolean): Enable OAuth for this server</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>clientId</code></strong> (string): OAuth client identifier (optional with dynamic registration)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>clientSecret</code></strong> (string): OAuth client secret (optional for public clients)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>authorizationUrl</code></strong> (string): OAuth authorization endpoint (auto-discovered if omitted)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>tokenUrl</code></strong> (string): OAuth token endpoint (auto-discovered if omitted)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>scopes</code></strong> (string[]): Required OAuth scopes</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>redirectUri</code></strong> (string): Custom redirect URI (defaults to <code>http://localhost:7777/oauth/callback</code>)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>tokenParamName</code></strong> (string): Query parameter name for tokens in SSE URLs</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>audiences</code></strong> (string[]): Audiences the token is valid for</li>
</ul>
<h4 id="token-management" class="mt-8 leading-6 text-lg title_fb7eb">Token Management<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#token-management">#</a></h4>
<p class="my-4 leading-7">OAuth tokens are automatically:</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Stored securely</strong> in <code>~/.ve/mcp-oauth-tokens.json</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Refreshed</strong> when expired (if refresh tokens are available)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Validated</strong> before each connection attempt</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Cleaned up</strong> when invalid or expired</li>
</ul>
<h4 id="authentication-provider-type" class="mt-8 leading-6 text-lg title_fb7eb">Authentication Provider Type<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#authentication-provider-type">#</a></h4>
<p class="my-4 leading-7">You can specify the authentication provider type using the <code>authProviderType</code> property:</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>authProviderType</code></strong> (string): Specifies the authentication provider. Can be one of the following:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>dynamic_discovery</code></strong> (default): The CLI will automatically discover the OAuth configuration from the server.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>volcengine_credentials</code></strong>: The CLI will use the Volcengine Application Default Credentials (ADC) to authenticate with the server. When using this provider, you must specify the required scopes.</li>
</ul>
</li>
</ul>
<div class="language-json"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-json" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;mcpServers&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;volcengineServer&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;httpUrl&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;https://my-gcp-service.run.app/mcp&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;authProviderType&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;volcengine_credentials&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;oauth&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-parameter)">&quot;scopes&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-string)">&quot;https://www.volcengineapis.com/auth/userinfo.email&quot;</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h3 id="example-configurations" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Example Configurations<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#example-configurations">#</a></h3>
<h4 id="python-mcp-server-stdio" class="mt-8 leading-6 text-lg title_fb7eb">Python MCP Server (Stdio)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#python-mcp-server-stdio">#</a></h4>
<div class="language-json"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-json" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;mcpServers&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;pythonTools&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;command&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;python&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;args&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-string)">&quot;-m&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;my_mcp_server&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;--port&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;8080&quot;</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;cwd&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;./mcp-servers/python&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;env&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-parameter)">&quot;DATABASE_URL&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;$DB_CONNECTION_STRING&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-parameter)">&quot;API_KEY&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;${EXTERNAL_API_KEY}&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;timeout&quot;</span><span class="token operator">:</span><span> </span><span class="token number">15000</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h4 id="nodejs-mcp-server-stdio" class="mt-8 leading-6 text-lg title_fb7eb">Node.js MCP Server (Stdio)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#nodejs-mcp-server-stdio">#</a></h4>
<div class="language-json"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-json" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;mcpServers&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;nodeServer&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;command&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;node&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;args&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-string)">&quot;dist/server.js&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;--verbose&quot;</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;cwd&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;./mcp-servers/node&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;trust&quot;</span><span class="token operator">:</span><span> </span><span class="token boolean">true</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h4 id="docker-based-mcp-server" class="mt-8 leading-6 text-lg title_fb7eb">Docker-based MCP Server<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#docker-based-mcp-server">#</a></h4>
<div class="language-json"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-json" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;mcpServers&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;dockerizedServer&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;command&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;docker&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;args&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-string)">&quot;run&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-string)">&quot;-i&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-string)">&quot;--rm&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-string)">&quot;-e&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-string)">&quot;API_KEY&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-string)">&quot;-v&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-string)">&quot;${PWD}:/workspace&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-string)">&quot;my-mcp-server:latest&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;env&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-parameter)">&quot;API_KEY&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;$EXTERNAL_SERVICE_TOKEN&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h4 id="http-based-mcp-server" class="mt-8 leading-6 text-lg title_fb7eb">HTTP-based MCP Server<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#http-based-mcp-server">#</a></h4>
<div class="language-json"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-json" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;mcpServers&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;httpServer&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;httpUrl&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;http://localhost:3000/mcp&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;timeout&quot;</span><span class="token operator">:</span><span> </span><span class="token number">5000</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h4 id="http-based-mcp-server-with-custom-headers" class="mt-8 leading-6 text-lg title_fb7eb">HTTP-based MCP Server with Custom Headers<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#http-based-mcp-server-with-custom-headers">#</a></h4>
<div class="language-json"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-json" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;mcpServers&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;httpServerWithAuth&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;httpUrl&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;http://localhost:3000/mcp&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;headers&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-parameter)">&quot;Authorization&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;Bearer your-api-token&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-parameter)">&quot;X-Custom-Header&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;custom-value&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-parameter)">&quot;Content-Type&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;application/json&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;timeout&quot;</span><span class="token operator">:</span><span> </span><span class="token number">5000</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h4 id="mcp-server-with-tool-filtering" class="mt-8 leading-6 text-lg title_fb7eb">MCP Server with Tool Filtering<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#mcp-server-with-tool-filtering">#</a></h4>
<div class="language-json"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-json" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;mcpServers&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;filteredServer&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;command&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;python&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;args&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-string)">&quot;-m&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;my_mcp_server&quot;</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;includeTools&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-string)">&quot;safe_tool&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;file_reader&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;data_processor&quot;</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-comment)">// &quot;excludeTools&quot;: [&quot;dangerous_tool&quot;, &quot;file_deleter&quot;],</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;timeout&quot;</span><span class="token operator">:</span><span> </span><span class="token number">30000</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h2 id="discovery-process-deep-dive" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Discovery Process Deep Dive<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#discovery-process-deep-dive">#</a></h2>
<p class="my-4 leading-7">When the VeCLI starts, it performs MCP server discovery through the following detailed process:</p>
<h3 id="1-server-iteration-and-connection" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">1. Server Iteration and Connection<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#1-server-iteration-and-connection">#</a></h3>
<p class="my-4 leading-7">For each configured server in <code>mcpServers</code>:</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Status tracking begins:</strong> Server status is set to <code>CONNECTING</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Transport selection:</strong> Based on configuration properties:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>httpUrl</code> → <code>StreamableHTTPClientTransport</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>url</code> → <code>SSEClientTransport</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>command</code> → <code>StdioClientTransport</code></li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Connection establishment:</strong> The MCP client attempts to connect with the configured timeout</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Error handling:</strong> Connection failures are logged and the server status is set to <code>DISCONNECTED</code></li>
</ol>
<h3 id="2-tool-discovery" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">2. Tool Discovery<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#2-tool-discovery">#</a></h3>
<p class="my-4 leading-7">Upon successful connection:</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Tool listing:</strong> The client calls the MCP server&#x27;s tool listing endpoint</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Schema validation:</strong> Each tool&#x27;s function declaration is validated</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Tool filtering:</strong> Tools are filtered based on <code>includeTools</code> and <code>excludeTools</code> configuration</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Name sanitization:</strong> Tool names are cleaned to meet Vecli API requirements:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">Invalid characters (non-alphanumeric, underscore, dot, hyphen) are replaced with underscores</li>
<li class="[&amp;:not(:first-child)]:mt-2">Names longer than 63 characters are truncated with middle replacement (<code>___</code>)</li>
</ul>
</li>
</ol>
<h3 id="3-conflict-resolution" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">3. Conflict Resolution<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#3-conflict-resolution">#</a></h3>
<p class="my-4 leading-7">When multiple servers expose tools with the same name:</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">First registration wins:</strong> The first server to register a tool name gets the unprefixed name</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Automatic prefixing:</strong> Subsequent servers get prefixed names: <code>serverName__toolName</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Registry tracking:</strong> The tool registry maintains mappings between server names and their tools</li>
</ol>
<h3 id="4-schema-processing" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">4. Schema Processing<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#4-schema-processing">#</a></h3>
<p class="my-4 leading-7">Tool parameter schemas undergo sanitization for Vecli API compatibility:</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>$schema</code> properties</strong> are removed</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>additionalProperties</code></strong> are stripped</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>anyOf</code> with <code>default</code></strong> have their default values removed (Vertex AI compatibility)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Recursive processing</strong> applies to nested schemas</li>
</ul>
<h3 id="5-connection-management" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">5. Connection Management<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#5-connection-management">#</a></h3>
<p class="my-4 leading-7">After discovery:</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Persistent connections:</strong> Servers that successfully register tools maintain their connections</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Cleanup:</strong> Servers that provide no usable tools have their connections closed</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Status updates:</strong> Final server statuses are set to <code>CONNECTED</code> or <code>DISCONNECTED</code></li>
</ul>
<h2 id="tool-execution-flow" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Tool Execution Flow<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#tool-execution-flow">#</a></h2>
<p class="my-4 leading-7">When the Vecli model decides to use an MCP tool, the following execution flow occurs:</p>
<h3 id="1-tool-invocation" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">1. Tool Invocation<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#1-tool-invocation">#</a></h3>
<p class="my-4 leading-7">The model generates a <code>FunctionCall</code> with:</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Tool name:</strong> The registered name (potentially prefixed)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Arguments:</strong> JSON object matching the tool&#x27;s parameter schema</li>
</ul>
<h3 id="2-confirmation-process" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">2. Confirmation Process<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#2-confirmation-process">#</a></h3>
<p class="my-4 leading-7">Each <code>DiscoveredMCPTool</code> implements sophisticated confirmation logic:</p>
<h4 id="trust-based-bypass" class="mt-8 leading-6 text-lg title_fb7eb">Trust-based Bypass<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#trust-based-bypass">#</a></h4>
<div class="language-typescript"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-typescript" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">if</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-keyword)">this</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>trust</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-keyword)">return</span><span> </span><span class="token boolean">false</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-comment)">// No confirmation needed</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h4 id="dynamic-allow-listing" class="mt-8 leading-6 text-lg title_fb7eb">Dynamic Allow-listing<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#dynamic-allow-listing">#</a></h4>
<p class="my-4 leading-7">The system maintains internal allow-lists for:</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Server-level:</strong> <code>serverName</code> → All tools from this server are trusted</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Tool-level:</strong> <code>serverName.toolName</code> → This specific tool is trusted</li>
</ul>
<h4 id="user-choice-handling" class="mt-8 leading-6 text-lg title_fb7eb">User Choice Handling<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#user-choice-handling">#</a></h4>
<p class="my-4 leading-7">When confirmation is required, users can choose:</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Proceed once:</strong> Execute this time only</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Always allow this tool:</strong> Add to tool-level allow-list</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Always allow this server:</strong> Add to server-level allow-list</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Cancel:</strong> Abort execution</li>
</ul>
<h3 id="3-execution" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">3. Execution<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#3-execution">#</a></h3>
<p class="my-4 leading-7">Upon confirmation (or trust bypass):</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold">Parameter preparation:</strong> Arguments are validated against the tool&#x27;s schema</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold">MCP call:</strong> The underlying <code>CallableTool</code> invokes the server with:</p>
<div class="language-typescript"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-typescript" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">const</span><span> functionCalls </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    name</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-keyword)">this</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>serverToolName</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-comment)">// Original server tool name</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    args</span><span class="token operator">:</span><span> params</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><strong class="font-semibold">Response processing:</strong> Results are formatted for both LLM context and user display</p>
</li>
</ol>
<h3 id="4-response-handling" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">4. Response Handling<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#4-response-handling">#</a></h3>
<p class="my-4 leading-7">The execution result contains:</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>llmContent</code>:</strong> Raw response parts for the language model&#x27;s context</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>returnDisplay</code>:</strong> Formatted output for user display (often JSON in markdown code blocks)</li>
</ul>
<h2 id="how-to-interact-with-your-mcp-server" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">How to interact with your MCP server<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#how-to-interact-with-your-mcp-server">#</a></h2>
<h3 id="using-the-mcp-command" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Using the <code>/mcp</code> Command<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#using-the-mcp-command">#</a></h3>
<p class="my-4 leading-7">The <code>/mcp</code> command provides comprehensive information about your MCP server setup:</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>/mcp</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">This displays:</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Server list:</strong> All configured MCP servers</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Connection status:</strong> <code>CONNECTED</code>, <code>CONNECTING</code>, or <code>DISCONNECTED</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Server details:</strong> Configuration summary (excluding sensitive data)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Available tools:</strong> List of tools from each server with descriptions</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Discovery state:</strong> Overall discovery process status</li>
</ul>
<h3 id="example-mcp-output" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Example <code>/mcp</code> Output<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#example-mcp-output">#</a></h3>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><code>MCP Servers Status:

📡 pythonTools (CONNECTED)
  Command: python -m my_mcp_server --port 8080
  Working Directory: ./mcp-servers/python
  Timeout: 15000ms
  Tools: calculate_sum, file_analyzer, data_processor

🔌 nodeServer (DISCONNECTED)
  Command: node dist/server.js --verbose
  Error: Connection refused

🐳 dockerizedServer (CONNECTED)
  Command: docker run -i --rm -e API_KEY my-mcp-server:latest
  Tools: docker__deploy, docker__status

Discovery State: COMPLETED
</code></div></div>
<h3 id="tool-usage" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Tool Usage<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#tool-usage">#</a></h3>
<p class="my-4 leading-7">Once discovered, MCP tools are available to the Vecli model like built-in tools. The model will automatically:</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Select appropriate tools</strong> based on your requests</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Present confirmation dialogs</strong> (unless the server is trusted)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Execute tools</strong> with proper parameters</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Display results</strong> in a user-friendly format</li>
</ol>
<h2 id="status-monitoring-and-troubleshooting" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Status Monitoring and Troubleshooting<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#status-monitoring-and-troubleshooting">#</a></h2>
<h3 id="connection-states" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Connection States<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#connection-states">#</a></h3>
<p class="my-4 leading-7">The MCP integration tracks several states:</p>
<h4 id="server-status-mcpserverstatus" class="mt-8 leading-6 text-lg title_fb7eb">Server Status (<code>MCPServerStatus</code>)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#server-status-mcpserverstatus">#</a></h4>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>DISCONNECTED</code>:</strong> Server is not connected or has errors</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>CONNECTING</code>:</strong> Connection attempt in progress</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>CONNECTED</code>:</strong> Server is connected and ready</li>
</ul>
<h4 id="discovery-state-mcpdiscoverystate" class="mt-8 leading-6 text-lg title_fb7eb">Discovery State (<code>MCPDiscoveryState</code>)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#discovery-state-mcpdiscoverystate">#</a></h4>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>NOT_STARTED</code>:</strong> Discovery hasn&#x27;t begun</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>IN_PROGRESS</code>:</strong> Currently discovering servers</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold"><code>COMPLETED</code>:</strong> Discovery finished (with or without errors)</li>
</ul>
<h3 id="common-issues-and-solutions" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Common Issues and Solutions<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#common-issues-and-solutions">#</a></h3>
<h4 id="server-wont-connect" class="mt-8 leading-6 text-lg title_fb7eb">Server Won&#x27;t Connect<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#server-wont-connect">#</a></h4>
<p class="my-4 leading-7"><strong class="font-semibold">Symptoms:</strong> Server shows <code>DISCONNECTED</code> status</p>
<p class="my-4 leading-7"><strong class="font-semibold">Troubleshooting:</strong></p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Check configuration:</strong> Verify <code>command</code>, <code>args</code>, and <code>cwd</code> are correct</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Test manually:</strong> Run the server command directly to ensure it works</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Check dependencies:</strong> Ensure all required packages are installed</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Review logs:</strong> Look for error messages in the CLI output</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Verify permissions:</strong> Ensure the CLI can execute the server command</li>
</ol>
<h4 id="no-tools-discovered" class="mt-8 leading-6 text-lg title_fb7eb">No Tools Discovered<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#no-tools-discovered">#</a></h4>
<p class="my-4 leading-7"><strong class="font-semibold">Symptoms:</strong> Server connects but no tools are available</p>
<p class="my-4 leading-7"><strong class="font-semibold">Troubleshooting:</strong></p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Verify tool registration:</strong> Ensure your server actually registers tools</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Check MCP protocol:</strong> Confirm your server implements the MCP tool listing correctly</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Review server logs:</strong> Check stderr output for server-side errors</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Test tool listing:</strong> Manually test your server&#x27;s tool discovery endpoint</li>
</ol>
<h4 id="tools-not-executing" class="mt-8 leading-6 text-lg title_fb7eb">Tools Not Executing<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#tools-not-executing">#</a></h4>
<p class="my-4 leading-7"><strong class="font-semibold">Symptoms:</strong> Tools are discovered but fail during execution</p>
<p class="my-4 leading-7"><strong class="font-semibold">Troubleshooting:</strong></p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Parameter validation:</strong> Ensure your tool accepts the expected parameters</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Schema compatibility:</strong> Verify your input schemas are valid JSON Schema</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Error handling:</strong> Check if your tool is throwing unhandled exceptions</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Timeout issues:</strong> Consider increasing the <code>timeout</code> setting</li>
</ol>
<h4 id="sandbox-compatibility" class="mt-8 leading-6 text-lg title_fb7eb">Sandbox Compatibility<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#sandbox-compatibility">#</a></h4>
<p class="my-4 leading-7"><strong class="font-semibold">Symptoms:</strong> MCP servers fail when sandboxing is enabled</p>
<p class="my-4 leading-7"><strong class="font-semibold">Solutions:</strong></p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Docker-based servers:</strong> Use Docker containers that include all dependencies</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Path accessibility:</strong> Ensure server executables are available in the sandbox</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Network access:</strong> Configure sandbox to allow necessary network connections</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Environment variables:</strong> Verify required environment variables are passed through</li>
</ol>
<h3 id="debugging-tips" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Debugging Tips<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#debugging-tips">#</a></h3>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Enable debug mode:</strong> Run the CLI with <code>--debug</code> for verbose output</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Check stderr:</strong> MCP server stderr is captured and logged (INFO messages filtered)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Test isolation:</strong> Test your MCP server independently before integrating</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Incremental setup:</strong> Start with simple tools before adding complex functionality</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Use <code>/mcp</code> frequently:</strong> Monitor server status during development</li>
</ol>
<h2 id="important-notes" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Important Notes<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#important-notes">#</a></h2>
<h3 id="security-considerations" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Security Considerations<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#security-considerations">#</a></h3>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Trust settings:</strong> The <code>trust</code> option bypasses all confirmation dialogs. Use cautiously and only for servers you completely control</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Access tokens:</strong> Be security-aware when configuring environment variables containing API keys or tokens</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Sandbox compatibility:</strong> When using sandboxing, ensure MCP servers are available within the sandbox environment</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Private data:</strong> Using broadly scoped personal access tokens can lead to information leakage between repositories</li>
</ul>
<h3 id="performance-and-resource-management" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Performance and Resource Management<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#performance-and-resource-management">#</a></h3>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Connection persistence:</strong> The CLI maintains persistent connections to servers that successfully register tools</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Automatic cleanup:</strong> Connections to servers providing no tools are automatically closed</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Timeout management:</strong> Configure appropriate timeouts based on your server&#x27;s response characteristics</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Resource monitoring:</strong> MCP servers run as separate processes and consume system resources</li>
</ul>
<h3 id="schema-compatibility" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Schema Compatibility<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#schema-compatibility">#</a></h3>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Property stripping:</strong> The system automatically removes certain schema properties (<code>$schema</code>, <code>additionalProperties</code>) for Vecli API compatibility</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Name sanitization:</strong> Tool names are automatically sanitized to meet API requirements</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Conflict resolution:</strong> Tool name conflicts between servers are resolved through automatic prefixing</li>
</ul>
<p class="my-4 leading-7">This comprehensive integration makes MCP servers a powerful way to extend the VeCLI&#x27;s capabilities while maintaining security, reliability, and ease of use.</p>
<h2 id="returning-rich-content-from-tools" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Returning Rich Content from Tools<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#returning-rich-content-from-tools">#</a></h2>
<p class="my-4 leading-7">MCP tools are not limited to returning simple text. You can return rich, multi-part content, including text, images, audio, and other binary data in a single tool response. This allows you to build powerful tools that can provide diverse information to the model in a single turn.</p>
<p class="my-4 leading-7">All data returned from the tool is processed and sent to the model as context for its next generation, enabling it to reason about or summarize the provided information.</p>
<h3 id="how-it-works" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">How It Works<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#how-it-works">#</a></h3>
<p class="my-4 leading-7">To return rich content, your tool&#x27;s response must adhere to the MCP specification for a <a href="https://modelcontextprotocol.io/specification/2025-06-18/server/tools#tool-result" target="_blank" rel="noopener noreferrer" class="link_a7cea  link_a9ef4 inline-link_f855c"><code>CallToolResult</code></a>. The <code>content</code> field of the result should be an array of <code>ContentBlock</code> objects. The VeCLI will correctly process this array, separating text from binary data and packaging it for the model.</p>
<p class="my-4 leading-7">You can mix and match different content block types in the <code>content</code> array. The supported block types include:</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>text</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>image</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>audio</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>resource</code> (embedded content)</li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>resource_link</code></li>
</ul>
<h3 id="example-returning-text-and-an-image" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Example: Returning Text and an Image<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#example-returning-text-and-an-image">#</a></h3>
<p class="my-4 leading-7">Here is an example of a valid JSON response from an MCP tool that returns both a text description and an image:</p>
<div class="language-json"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-json" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;content&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;type&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;text&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;text&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;Here is the logo you requested.&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;type&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;image&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;data&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;BASE64_ENCODED_IMAGE_DATA_HERE&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;mimeType&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;image/png&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;type&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;text&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;text&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;The logo was created in 2025.&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">When the VeCLI receives this response, it will:</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">Extract all the text and combine it into a single <code>functionResponse</code> part for the model.</li>
<li class="[&amp;:not(:first-child)]:mt-2">Present the image data as a separate <code>inlineData</code> part.</li>
<li class="[&amp;:not(:first-child)]:mt-2">Provide a clean, user-friendly summary in the CLI, indicating that both text and an image were received.</li>
</ol>
<p class="my-4 leading-7">This enables you to build sophisticated tools that can provide rich, multi-modal context to the Vecli model.</p>
<h2 id="mcp-prompts-as-slash-commands" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">MCP Prompts as Slash Commands<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#mcp-prompts-as-slash-commands">#</a></h2>
<p class="my-4 leading-7">In addition to tools, MCP servers can expose predefined prompts that can be executed as slash commands within the VeCLI. This allows you to create shortcuts for common or complex queries that can be easily invoked by name.</p>
<h3 id="defining-prompts-on-the-server" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Defining Prompts on the Server<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#defining-prompts-on-the-server">#</a></h3>
<p class="my-4 leading-7">Here&#x27;s a small example of a stdio MCP server that defines prompts:</p>
<div class="language-ts"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> McpServer </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;@modelcontextprotocol/sdk/server/mcp.js&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> StdioServerTransport </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;@modelcontextprotocol/sdk/server/stdio.js&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> z </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;zod&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">const</span><span> server </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-keyword)">new</span><span> </span><span class="token class-name">McpServer</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  name</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;prompt-server&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  version</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;1.0.0&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span>server</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span class="token" style="color:var(--code-token-function)">registerPrompt</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-string)">&#x27;poem-writer&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    title</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;Poem Writer&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    description</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;Write a nice haiku&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    argsSchema</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> title</span><span class="token operator">:</span><span> z</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span class="token" style="color:var(--code-token-function)">string</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> mood</span><span class="token operator">:</span><span> z</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span class="token" style="color:var(--code-token-function)">string</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span class="token" style="color:var(--code-token-function)">optional</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> title</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> mood </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token operator">=&gt;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    messages</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        role</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;user&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        content</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          type</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;text&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          text</span><span class="token operator">:</span><span> </span><span class="token template-string template-punctuation" style="color:var(--code-token-string)">`</span><span class="token template-string" style="color:var(--code-token-string)">Write a haiku</span><span class="token template-string interpolation interpolation-punctuation" style="color:var(--code-token-punctuation)">${</span><span class="token template-string interpolation">mood </span><span class="token template-string interpolation operator">?</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation template-punctuation" style="color:var(--code-token-string)">`</span><span class="token template-string interpolation" style="color:var(--code-token-string)"> with the mood </span><span class="token template-string interpolation interpolation-punctuation" style="color:var(--code-token-punctuation)">${</span><span class="token template-string interpolation">mood</span><span class="token template-string interpolation interpolation-punctuation" style="color:var(--code-token-punctuation)">}</span><span class="token template-string interpolation template-punctuation" style="color:var(--code-token-string)">`</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation operator">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:var(--code-token-string)">&#x27;&#x27;</span><span class="token template-string interpolation interpolation-punctuation" style="color:var(--code-token-punctuation)">}</span><span class="token template-string" style="color:var(--code-token-string)"> called </span><span class="token template-string interpolation interpolation-punctuation" style="color:var(--code-token-punctuation)">${</span><span class="token template-string interpolation">title</span><span class="token template-string interpolation interpolation-punctuation" style="color:var(--code-token-punctuation)">}</span><span class="token template-string" style="color:var(--code-token-string)">. Note that a haiku is 5 syllables followed by 7 syllables followed by 5 syllables </span><span class="token template-string template-punctuation" style="color:var(--code-token-string)">`</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">const</span><span> transport </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-keyword)">new</span><span> </span><span class="token class-name">StdioServerTransport</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">await</span><span> server</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span class="token" style="color:var(--code-token-function)">connect</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>transport</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">This can be included in <code>settings.json</code> under <code>mcpServers</code> with:</p>
<div class="language-json"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-json" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;mcpServers&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;nodeServer&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;command&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;node&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;args&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-string)">&quot;filename.ts&quot;</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h3 id="invoking-prompts" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Invoking Prompts<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#invoking-prompts">#</a></h3>
<p class="my-4 leading-7">Once a prompt is discovered, you can invoke it using its name as a slash command. The CLI will automatically handle parsing arguments.</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>/poem-writer --title</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&quot;VeCLI&quot;</span><span> --mood</span><span class="token operator">=</span><span class="token" style="color:var(--code-token-string)">&quot;reverent&quot;</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">or, using positional arguments:</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>/poem-writer </span><span class="token" style="color:var(--code-token-string)">&quot;VeCLI&quot;</span><span> reverent</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">When you run this command, the VeCLI executes the <code>prompts/get</code> method on the MCP server with the provided arguments. The server is responsible for substituting the arguments into the prompt template and returning the final prompt text. The CLI then sends this prompt to the model for execution. This provides a convenient way to automate and share common workflows.</p>
<h2 id="managing-mcp-servers-with-vecli-mcp" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Managing MCP Servers with <code>vecli mcp</code><a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#managing-mcp-servers-with-vecli-mcp">#</a></h2>
<p class="my-4 leading-7">While you can always configure MCP servers by manually editing your <code>settings.json</code> file, the VeCLI provides a convenient set of commands to manage your server configurations programmatically. These commands streamline the process of adding, listing, and removing MCP servers without needing to directly edit JSON files.</p>
<h3 id="adding-a-server-vecli-mcp-add" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Adding a Server (<code>vecli mcp add</code>)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#adding-a-server-vecli-mcp-add">#</a></h3>
<p class="my-4 leading-7">The <code>add</code> command configures a new MCP server in your <code>settings.json</code>. Based on the scope (<code>-s, --scope</code>), it will be added to either the user config <code>~/.ve/settings.json</code> or the project config <code>.ve/settings.json</code> file.</p>
<p class="my-4 leading-7"><strong class="font-semibold">Command:</strong></p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>vecli mcp </span><span class="token" style="color:var(--code-token-function)">add</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>options</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span> </span><span class="token operator">&lt;</span><span>name</span><span class="token operator">&gt;</span><span> </span><span class="token operator">&lt;</span><span>commandOrUrl</span><span class="token operator">&gt;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>args</span><span class="token" style="color:var(--code-token-punctuation)">..</span><span>.</span><span class="token" style="color:var(--code-token-punctuation)">]</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>&lt;name&gt;</code>: A unique name for the server.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>&lt;commandOrUrl&gt;</code>: The command to execute (for <code>stdio</code>) or the URL (for <code>http</code>/<code>sse</code>).</li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>[args...]</code>: Optional arguments for a <code>stdio</code> command.</li>
</ul>
<p class="my-4 leading-7"><strong class="font-semibold">Options (Flags):</strong></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>-s, --scope</code>: Configuration scope (user or project). [default: &quot;project&quot;]</li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>-t, --transport</code>: Transport type (stdio, sse, http). [default: &quot;stdio&quot;]</li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>-e, --env</code>: Set environment variables (e.g. -e KEY=value).</li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>-H, --header</code>: Set HTTP headers for SSE and HTTP transports (e.g. -H &quot;X-Api-Key: abc123&quot; -H &quot;Authorization: Bearer abc123&quot;).</li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>--timeout</code>: Set connection timeout in milliseconds.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>--trust</code>: Trust the server (bypass all tool call confirmation prompts).</li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>--description</code>: Set the description for the server.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>--include-tools</code>: A comma-separated list of tools to include.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>--exclude-tools</code>: A comma-separated list of tools to exclude.</li>
</ul>
<h4 id="adding-an-stdio-server" class="mt-8 leading-6 text-lg title_fb7eb">Adding an stdio server<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#adding-an-stdio-server">#</a></h4>
<p class="my-4 leading-7">This is the default transport for running local servers.</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)"># Basic syntax</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>vecli mcp </span><span class="token" style="color:var(--code-token-function)">add</span><span> </span><span class="token operator">&lt;</span><span>name</span><span class="token operator">&gt;</span><span> </span><span class="token operator">&lt;</span><span>command</span><span class="token operator">&gt;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>args</span><span class="token" style="color:var(--code-token-punctuation)">..</span><span>.</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># Example: Adding a local server</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>vecli mcp </span><span class="token" style="color:var(--code-token-function)">add</span><span> my-stdio-server -e </span><span class="token assign-left" style="color:var(--code-token-variable)">API_KEY</span><span class="token operator">=</span><span class="token number">123</span><span> /path/to/server arg1 arg2 arg3
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># Example: Adding a local python server</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>vecli mcp </span><span class="token" style="color:var(--code-token-function)">add</span><span> python-server python server.py --port </span><span class="token number">8080</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h4 id="adding-an-http-server" class="mt-8 leading-6 text-lg title_fb7eb">Adding an HTTP server<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#adding-an-http-server">#</a></h4>
<p class="my-4 leading-7">This transport is for servers that use the streamable HTTP transport.</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)"># Basic syntax</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>vecli mcp </span><span class="token" style="color:var(--code-token-function)">add</span><span> --transport http </span><span class="token operator">&lt;</span><span>name</span><span class="token operator">&gt;</span><span> </span><span class="token operator">&lt;</span><span>url</span><span class="token operator">&gt;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># Example: Adding an HTTP server</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>vecli mcp </span><span class="token" style="color:var(--code-token-function)">add</span><span> --transport http http-server https://api.example.com/mcp/
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># Example: Adding an HTTP server with an authentication header</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>vecli mcp </span><span class="token" style="color:var(--code-token-function)">add</span><span> --transport http secure-http https://api.example.com/mcp/ --header </span><span class="token" style="color:var(--code-token-string)">&quot;Authorization: Bearer abc123&quot;</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h4 id="adding-an-sse-server" class="mt-8 leading-6 text-lg title_fb7eb">Adding an SSE server<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#adding-an-sse-server">#</a></h4>
<p class="my-4 leading-7">This transport is for servers that use Server-Sent Events (SSE).</p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)"># Basic syntax</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>vecli mcp </span><span class="token" style="color:var(--code-token-function)">add</span><span> --transport sse </span><span class="token operator">&lt;</span><span>name</span><span class="token operator">&gt;</span><span> </span><span class="token operator">&lt;</span><span>url</span><span class="token operator">&gt;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># Example: Adding an SSE server</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>vecli mcp </span><span class="token" style="color:var(--code-token-function)">add</span><span> --transport sse sse-server https://api.example.com/sse/
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)"># Example: Adding an SSE server with an authentication header</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>vecli mcp </span><span class="token" style="color:var(--code-token-function)">add</span><span> --transport sse secure-sse https://api.example.com/sse/ --header </span><span class="token" style="color:var(--code-token-string)">&quot;Authorization: Bearer abc123&quot;</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h3 id="listing-servers-vecli-mcp-list" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Listing Servers (<code>vecli mcp list</code>)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#listing-servers-vecli-mcp-list">#</a></h3>
<p class="my-4 leading-7">To view all MCP servers currently configured, use the <code>list</code> command. It displays each server&#x27;s name, configuration details, and connection status.</p>
<p class="my-4 leading-7"><strong class="font-semibold">Command:</strong></p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>vecli mcp list</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">Example Output:</strong></p>
<div class="language-sh"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-sh" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>✓ stdio-server: command: python3 server.py (stdio) - Connected
</span></span><span style="display:block;padding:0 1.25rem">✓ http-server: https://api.example.com/mcp (http) - Connected
</span><span style="display:block;padding:0 1.25rem">✗ sse-server: https://api.example.com/sse (sse) - Disconnected</span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h3 id="removing-a-server-vecli-mcp-remove" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Removing a Server (<code>vecli mcp remove</code>)<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#removing-a-server-vecli-mcp-remove">#</a></h3>
<p class="my-4 leading-7">To delete a server from your configuration, use the <code>remove</code> command with the server&#x27;s name.</p>
<p class="my-4 leading-7"><strong class="font-semibold">Command:</strong></p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>vecli mcp remove </span><span class="token operator">&lt;</span><span>name</span><span class="token operator">&gt;</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7"><strong class="font-semibold">Example:</strong></p>
<div class="language-bash"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>vecli mcp remove my-server</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<p class="my-4 leading-7">This will find and delete the &quot;my-server&quot; entry from the <code>mcpServers</code> object in the appropriate <code>settings.json</code> file based on the scope (<code>-s, --scope</code>).</p><!--/$--></div><div class="rspress-doc-footer"><footer class="mt-8"><div class="xs:flex pb-5 px-2 justify-end items-center"></div><div class="flex flex-col"></div><div class="flex flex-col sm:flex-row sm:justify-around gap-4 pt-6"><div class="prev_c92d1 flex flex-col"><a href="/en/tools/memory" class="link_a7cea pager-link_e0d2d"><span class="desc_dcc01">Previous Page</span><span class="title_a3acb">Memory</span></a></div><div class="next_c11be flex flex-col"><a href="/en/checkpointing" class="link_a7cea pager-link_e0d2d next_ad355"><span class="desc_dcc01">Next Page</span><span class="title_a3acb">Checkpointing</span></a></div></div></footer></div></div><div class="aside-container_bc5fa"><div class="flex flex-col"><div id="aside-container" class="relative text-sm font-medium"><div class="leading-7 block text-sm font-semibold pl-3">ON THIS PAGE</div><nav class="mt-1"><ul class="relative"><li><a href="#what-is-an-mcp-server" title="What is an MCP server?" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">What is an MCP server?</span></a></li><li><a href="#core-integration-architecture" title="Core Integration Architecture" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Core Integration Architecture</span></a></li><li><a href="#discovery-layer-mcp-clientts" title="Discovery Layer (mcp-client.ts)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Discovery Layer (<code>mcp-client.ts</code>)</span></a></li><li><a href="#execution-layer-mcp-toolts" title="Execution Layer (mcp-tool.ts)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Execution Layer (<code>mcp-tool.ts</code>)</span></a></li><li><a href="#transport-mechanisms" title="Transport Mechanisms" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Transport Mechanisms</span></a></li><li><a href="#how-to-set-up-your-mcp-server" title="How to set up your MCP server" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">How to set up your MCP server</span></a></li><li><a href="#configure-the-mcp-server-in-settingsjson" title="Configure the MCP server in settings.json" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Configure the MCP server in settings.json</span></a></li><li><a href="#global-mcp-settings-mcp" title="Global MCP Settings (mcp)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Global MCP Settings (<code>mcp</code>)</span></a></li><li><a href="#server-specific-configuration-mcpservers" title="Server-Specific Configuration (mcpServers)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Server-Specific Configuration (<code>mcpServers</code>)</span></a></li><li><a href="#configuration-structure" title="Configuration Structure" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Configuration Structure</span></a></li><li><a href="#configuration-properties" title="Configuration Properties" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Configuration Properties</span></a></li><li><a href="#required-one-of-the-following" title="Required (one of the following)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Required (one of the following)</span></a></li><li><a href="#optional" title="Optional" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Optional</span></a></li><li><a href="#oauth-support-for-remote-mcp-servers" title="OAuth Support for Remote MCP Servers" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">OAuth Support for Remote MCP Servers</span></a></li><li><a href="#automatic-oauth-discovery" title="Automatic OAuth Discovery" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Automatic OAuth Discovery</span></a></li><li><a href="#authentication-flow" title="Authentication Flow" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Authentication Flow</span></a></li><li><a href="#browser-redirect-requirements" title="Browser Redirect Requirements" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Browser Redirect Requirements</span></a></li><li><a href="#managing-oauth-authentication" title="Managing OAuth Authentication" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Managing OAuth Authentication</span></a></li><li><a href="#oauth-configuration-properties" title="OAuth Configuration Properties" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">OAuth Configuration Properties</span></a></li><li><a href="#token-management" title="Token Management" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Token Management</span></a></li><li><a href="#authentication-provider-type" title="Authentication Provider Type" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Authentication Provider Type</span></a></li><li><a href="#example-configurations" title="Example Configurations" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Example Configurations</span></a></li><li><a href="#python-mcp-server-stdio" title="Python MCP Server (Stdio)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Python MCP Server (Stdio)</span></a></li><li><a href="#nodejs-mcp-server-stdio" title="Node.js MCP Server (Stdio)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Node.js MCP Server (Stdio)</span></a></li><li><a href="#docker-based-mcp-server" title="Docker-based MCP Server" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Docker-based MCP Server</span></a></li><li><a href="#http-based-mcp-server" title="HTTP-based MCP Server" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">HTTP-based MCP Server</span></a></li><li><a href="#http-based-mcp-server-with-custom-headers" title="HTTP-based MCP Server with Custom Headers" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">HTTP-based MCP Server with Custom Headers</span></a></li><li><a href="#mcp-server-with-tool-filtering" title="MCP Server with Tool Filtering" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">MCP Server with Tool Filtering</span></a></li><li><a href="#discovery-process-deep-dive" title="Discovery Process Deep Dive" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Discovery Process Deep Dive</span></a></li><li><a href="#1-server-iteration-and-connection" title="1. Server Iteration and Connection" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">1. Server Iteration and Connection</span></a></li><li><a href="#2-tool-discovery" title="2. Tool Discovery" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">2. Tool Discovery</span></a></li><li><a href="#3-conflict-resolution" title="3. Conflict Resolution" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">3. Conflict Resolution</span></a></li><li><a href="#4-schema-processing" title="4. Schema Processing" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">4. Schema Processing</span></a></li><li><a href="#5-connection-management" title="5. Connection Management" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">5. Connection Management</span></a></li><li><a href="#tool-execution-flow" title="Tool Execution Flow" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Tool Execution Flow</span></a></li><li><a href="#1-tool-invocation" title="1. Tool Invocation" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">1. Tool Invocation</span></a></li><li><a href="#2-confirmation-process" title="2. Confirmation Process" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">2. Confirmation Process</span></a></li><li><a href="#trust-based-bypass" title="Trust-based Bypass" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Trust-based Bypass</span></a></li><li><a href="#dynamic-allow-listing" title="Dynamic Allow-listing" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Dynamic Allow-listing</span></a></li><li><a href="#user-choice-handling" title="User Choice Handling" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">User Choice Handling</span></a></li><li><a href="#3-execution" title="3. Execution" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">3. Execution</span></a></li><li><a href="#4-response-handling" title="4. Response Handling" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">4. Response Handling</span></a></li><li><a href="#how-to-interact-with-your-mcp-server" title="How to interact with your MCP server" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">How to interact with your MCP server</span></a></li><li><a href="#using-the-mcp-command" title="Using the /mcp Command" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Using the <code>/mcp</code> Command</span></a></li><li><a href="#example-mcp-output" title="Example /mcp Output" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Example <code>/mcp</code> Output</span></a></li><li><a href="#tool-usage" title="Tool Usage" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Tool Usage</span></a></li><li><a href="#status-monitoring-and-troubleshooting" title="Status Monitoring and Troubleshooting" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Status Monitoring and Troubleshooting</span></a></li><li><a href="#connection-states" title="Connection States" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Connection States</span></a></li><li><a href="#server-status-mcpserverstatus" title="Server Status (MCPServerStatus)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Server Status (<code>MCPServerStatus</code>)</span></a></li><li><a href="#discovery-state-mcpdiscoverystate" title="Discovery State (MCPDiscoveryState)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Discovery State (<code>MCPDiscoveryState</code>)</span></a></li><li><a href="#common-issues-and-solutions" title="Common Issues and Solutions" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Common Issues and Solutions</span></a></li><li><a href="#server-wont-connect" title="Server Won&#x27;t Connect" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Server Won&#x27;t Connect</span></a></li><li><a href="#no-tools-discovered" title="No Tools Discovered" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">No Tools Discovered</span></a></li><li><a href="#tools-not-executing" title="Tools Not Executing" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Tools Not Executing</span></a></li><li><a href="#sandbox-compatibility" title="Sandbox Compatibility" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Sandbox Compatibility</span></a></li><li><a href="#debugging-tips" title="Debugging Tips" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Debugging Tips</span></a></li><li><a href="#important-notes" title="Important Notes" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Important Notes</span></a></li><li><a href="#security-considerations" title="Security Considerations" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Security Considerations</span></a></li><li><a href="#performance-and-resource-management" title="Performance and Resource Management" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Performance and Resource Management</span></a></li><li><a href="#schema-compatibility" title="Schema Compatibility" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Schema Compatibility</span></a></li><li><a href="#returning-rich-content-from-tools" title="Returning Rich Content from Tools" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Returning Rich Content from Tools</span></a></li><li><a href="#how-it-works" title="How It Works" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">How It Works</span></a></li><li><a href="#example-returning-text-and-an-image" title="Example: Returning Text and an Image" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Example: Returning Text and an Image</span></a></li><li><a href="#mcp-prompts-as-slash-commands" title="MCP Prompts as Slash Commands" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">MCP Prompts as Slash Commands</span></a></li><li><a href="#defining-prompts-on-the-server" title="Defining Prompts on the Server" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Defining Prompts on the Server</span></a></li><li><a href="#invoking-prompts" title="Invoking Prompts" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Invoking Prompts</span></a></li><li><a href="#managing-mcp-servers-with-vecli-mcp" title="Managing MCP Servers with vecli mcp" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Managing MCP Servers with <code>vecli mcp</code></span></a></li><li><a href="#adding-a-server-vecli-mcp-add" title="Adding a Server (vecli mcp add)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Adding a Server (<code>vecli mcp add</code>)</span></a></li><li><a href="#adding-an-stdio-server" title="Adding an stdio server" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Adding an stdio server</span></a></li><li><a href="#adding-an-http-server" title="Adding an HTTP server" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Adding an HTTP server</span></a></li><li><a href="#adding-an-sse-server" title="Adding an SSE server" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Adding an SSE server</span></a></li><li><a href="#listing-servers-vecli-mcp-list" title="Listing Servers (vecli mcp list)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Listing Servers (<code>vecli mcp list</code>)</span></a></li><li><a href="#removing-a-server-vecli-mcp-remove" title="Removing a Server (vecli mcp remove)" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Removing a Server (<code>vecli mcp remove</code>)</span></a></li></ul></nav></div></div></div></div></div></div></section></div>
    <div id="search-container"></div>
  </body>
</html>
