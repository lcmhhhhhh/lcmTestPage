# VeCLI 工具

VeCLI 包含内置工具，火山引擎模型使用这些工具与您的本地环境交互、访问信息并执行操作。这些工具增强了 CLI 的功能，使其能够超越文本生成并协助完成各种任务。

## VeCLI 工具概述

在 VeCLI 的上下文中，工具是火山引擎模型可以请求执行的特定函数或模块。例如，如果您要求火山引擎"总结 `my_document.txt` 的内容"，模型可能会识别需要读取该文件，并将请求执行 `read_file` 工具。

核心组件（`packages/core`）管理这些工具，向火山引擎模型呈现其定义（架构），在请求时执行它们，并将结果返回给模型以进一步处理为面向用户的响应。

这些工具提供以下功能：

- **访问本地信息：** 工具允许火山引擎访问您的本地文件系统、读取文件内容、列出目录等。
- **执行命令：** 使用像 `run_shell_command` 这样的工具，火山引擎可以运行 shell 命令（具有适当的安全措施和用户确认）。
- **与网络交互：** 工具可以从 URL 获取内容。
- **执行操作：** 工具可以修改文件、写入新文件或在您的系统上执行其他操作（同样，通常具有保护措施）。
- **基础响应：** 通过使用工具获取实时或特定的本地数据，火山引擎的响应可以更准确、相关并基于您的实际上下文。

## 如何使用 VeCLI 工具

要使用 VeCLI 工具，请向 VeCLI 提供提示。该过程如下工作：

1.  您向 VeCLI 提供提示。
2.  CLI 将提示发送到核心。
3.  核心连同您的提示和对话历史，向火山引擎 API 发送可用工具列表及其描述/架构。
4.  火山引擎模型分析您的请求。如果它确定需要工具，其响应将包括使用某些参数执行特定工具的请求。
5.  核心接收此工具请求，验证它，并（通常在敏感操作的用户确认后）执行工具。
6.  工具的输出被发送回火山引擎模型。
7.  火山引擎模型使用工具的输出来制定其最终答案，然后通过核心发送回 CLI 并显示给您。

您通常会在 CLI 中看到指示何时调用工具以及是否成功或失败的消息。

## 安全和确认

许多工具，特别是那些可以修改您的文件系统或执行命令的工具（`write_file`、`edit`、`run_shell_command`），都是以安全为考虑设计的。VeCLI 通常会：

- **需要确认：** 在执行潜在敏感操作之前提示您，向您显示即将执行的操作。
- **利用沙盒：** 所有工具都受到沙盒强制执行的限制（请参阅 [VeCLI 中的沙盒](../sandbox.md)）。这意味着在沙盒中操作时，您希望使用的任何工具（包括 MCP 服务器）都必须在沙盒环境_内部_可用。例如，要通过 `npx` 运行 MCP 服务器，`npx` 可执行文件必须安装在沙盒的 Docker 镜像中或在 `sandbox-exec` 环境中可用。

在允许工具继续之前，仔细查看确认提示非常重要。

## 了解更多关于 VeCLI 工具的信息

VeCLI 的内置工具可以大致分类如下：

- **[文件系统工具](./file-system.md)：** 用于与文件和目录交互（读取、写入、列出、搜索等）。
- **[Shell 工具](./shell.md)（`run_shell_command`）：** 用于执行 shell 命令。
- **[网络获取工具](./web-fetch.md)（`web_fetch`）：** 用于从 URL 检索内容。
- **[网络搜索工具](./web-search.md)（`web_search`）：** 用于搜索网络。
- **[多文件读取工具](./multi-file.md)（`read_many_files`）：** 用于从多个文件或目录读取内容的专用工具，通常由 `@` 命令使用。
- **[内存工具](./memory.md)（`save_memory`）：** 用于跨会话保存和回忆信息。

此外，这些工具还包含：

- **[MCP 服务器](./mcp-server.md)**：MCP 服务器充当火山引擎模型与您的本地环境或其他服务（如 API）之间的桥梁。
- **[沙盒](../sandbox.md)**：沙盒将模型及其更改与您的环境隔离，以减少潜在风险。